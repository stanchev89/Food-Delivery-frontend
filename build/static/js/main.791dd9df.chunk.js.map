{"version":3,"sources":["environments.js","helpers/index.js","services/userService.js","services/foodService.js","components/Header/Header.js","components/Footer/Footer.js","components/Menu/DishItem/DishItem.js","components/Cart/CartItem/CartItem.js","components/Cart/Cart.js","components/Login/Login.js","components/Menu/Menu.js","components/Register/Register.js","components/Logout/Logout.js","components/Profile/AddNewAddressForm/AddNewAddressForm.js","components/Order/OrderAddress/OrderAddress.js","components/Order/OrderPayment/OrderPayment.js","components/Order/OrderDescription/OrderDescription.js","components/Order/Order.js","components/Contacts/Contacts.js","services/postService.js","components/Posts/PostItem/PostItem.js","components/Posts/Posts.js","components/About/About.js","components/Conditions/Conditions.js","components/Notification/Notification.js","components/Profile/ProfileInfo/ProfileInfo.js","components/Profile/ProfileAddress/ProfileAddressItem/ProfileAddressItem.js","components/Profile/ProfileAddress/ProfileAddress.js","components/Profile/ProfileOrders/ShowOrderCart/ShowOrderCart.js","components/Profile/ProfileOrders/ProfileOrders.js","components/Profile/Profile.js","App.js","reportWebVitals.js","index.js"],"names":["environments","regions","smolyan","raykovo","ustovo","kaptaja","mapBgRegions","fetchWithCredentials","path","method","body","fetch","headers","credentials","JSON","stringify","undefined","userService","login","username","password","then","res","json","catch","err","console","error","register","newUser","editUserData","data","getUserInfo","logout","initialCart","products","totalPrice","arraysEqual","arr1","arr2","length","every","o","idx","objectsEqual","calculateCartTotalPrice","cart","forEach","product","quantity","price","foodService","getDailyMenu","dishes","addToCart","user","item","addOrSubtract","exist","find","prod","name","selected_options","concat","removeItemFromCart","index","findIndex","splice","clearCart","Header","props","className","to","src","alt","exact","activeClassName","Footer","height","DishItem","dish","isLogged","img","join","weight","toFixed","onClick","bind","CartItem","onChangeItemQuantity","onRemoveItem","Number","label","Cart","setUser","match","action","onRemoveItemHandler","map","includes","Login","history","setNotification","useEffect","onSubmit","e","preventDefault","target","value","message","notification","type","push","htmlFor","id","placeholder","required","Menu","menu","filter","d","category","_id","Register","phone","email","repeatPassword","mapRegions","AddNewAddressForm","toggleNewAddressForm","region","location","address","adr","delivery","newAddress","addAddress","Object","keys","key","OrderAddress","setOrder","order","useState","viewNewAddress","setViewNewAddress","prevState","onChange","selectedLocation","selected","OrderPayment","selectedPaymentHandler","paymentMethod","payment","OrderDescription","cols","rows","onBlur","description","Order","setDelivery","deliveryPerRegion","isNaN","newOrder","date","Date","toLocaleString","Contacts","class","postService","getPosts","createPost","post","editPost","PostItem","likeHandler","liked","setLiked","disliked","setDisliked","likeClickHandler","author","likes","dislikes","title","created_at","split","Posts","allPosts","setAllPosts","posts","likeAction","up","down","p","sort","a","b","parse","newPost","Notification","setTimeout","ProfileInfo","editMode","setEditMode","editModeToggle","prev","checkForMinLength","obj","count","entries","Promise","reject","resolve","editUserInfoHandler","newData","invalidInputData","mongoError","curMessage","duplicatedProp","values","trim","defaultValue","disabled","ProfileAddressItem","onDeleteAddressHandler","onUpdateExistAddressHandler","setLocation","toggleEditMode","changes","ProfileAddress","addAddressMode","setAddAddressMode","ShowOrderCart","closeHandler","i","getCartProductsPrice","ProfileOrders","showCart","setShowCart","currentOrder","setCurrentOrder","toggleShowCart","orders","Profile","deleteAddress","oldAddress","newAddres","url","render","App","state","currentUser","setState","this","log","Logout","component","About","Conditions","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"wtBAeeA,G,MAfM,CACpBC,QAAQ,CACPC,QAAS,GACTC,QAAS,IACTC,OAAQ,IACRC,QAAS,KAEPC,aAAe,CACXJ,QAAS,uCACTC,QAAS,6CACTC,OAAQ,uCACRC,QAAS,gDCXV,SAASE,EAAqBC,EAAKC,EAAOC,GAC7C,OAAOC,MAAMH,EAAM,CACfC,OAAQA,EACRG,QAAS,CACL,eAAgB,oBAEpBC,YAAa,UACbH,KAAMA,EAAOI,KAAKC,UAAUL,QAAQM,ICJ5C,IAoCeC,EApCK,CAEhBC,MAAO,SAAEC,EAAUC,GAEf,OAAOb,EADS,aACqB,OAAO,CAACY,WAASC,aACjDC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,OAGpCG,SAAU,SAACC,GAEP,OAAOtB,EADS,gBACqB,OAAOsB,GACvCR,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,OAGpCK,aAAc,SAACC,GAEX,OAAOxB,EADS,eACqB,MAAMwB,GACtCV,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,MAAME,QAAQC,QAEvBK,YAAa,WAET,OAAOzB,EADS,eACqB,OAChCc,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,OAEpCQ,OAAQ,WAEJ,OAAO1B,EADS,cACqB,QAChCc,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,MAAME,QAAQC,SC9BrBO,EAAc,CACnBC,SAAS,GACTC,WAAW,GASZ,SAASC,EAAYC,EAAMC,GAAM,IAAD,OAC/B,OAAOD,EAAKE,SAAWD,EAAKC,QAAUF,EAAKG,OAAM,SAACC,EAAGC,GAAJ,OAAY,EAAKC,aAAaF,EAAGH,EAAKI,OAExF,SAASE,EAAwBC,GAKhC,OAJAA,EAAKV,WAAa,EAClBU,EAAKX,SAASY,SAAQ,SAACC,GACtBF,EAAKV,YAAcY,EAAQC,SAAWD,EAAQE,SAExCJ,EAAKV,WAGb,IAyCee,EAzCK,CACnBC,aAAc,WAEb,OAAOzC,MADS,WACOU,MAAK,SAACgC,GAAD,OAAYA,EAAO9B,UAAQC,OAAM,SAACC,GAAD,OAASC,QAAQC,MAAMF,OAErF6B,UAAW,SAAUC,EAAKC,EAAKC,GAAgB,IAAD,EACvCX,EAAOS,EAAKT,KACZY,EAAK,UAAGZ,EAAKX,gBAAR,aAAG,EAAewB,MAAK,SAACC,GAAD,OACjCA,EAAKC,OAASL,EAAKK,MAChBD,EAAKV,QAAUM,EAAKN,OACpBb,EAAYuB,EAAKE,iBAAkBN,EAAKM,qBAc5C,OAbIJ,EACCD,EAGmB,IAAnBC,EAAMT,UACRS,EAAMT,WAHPS,EAAMT,UAAY,GAOnBO,EAAKP,SAAW,EAChBH,EAAKX,SAAWW,EAAKX,SAAWW,EAAKX,SAAS4B,OAAOP,GAAQ,CAACA,IAE/DV,EAAKV,WAAaS,EAAwBC,GACnC7B,EAAYa,aAAa,CAACgB,UAElCkB,mBAAoB,SAAUT,EAAKC,GAAO,IAAD,QAClCS,EAAK,UAAGV,EAAKT,YAAR,iBAAG,EAAWX,gBAAd,aAAG,EAAqB+B,WAAU,SAAAN,GAAI,OAChDA,EAAKC,OAASL,EAAKK,MAChBD,EAAKV,QAAUM,EAAKN,OACpBb,EAAYuB,EAAKE,iBAAkBN,EAAKM,qBAI5C,OAFA,UAAAP,EAAKT,YAAL,mBAAWX,gBAAX,SAAqBgC,OAAOF,EAAM,GAClCV,EAAKT,KAAKV,WAAaS,EAAwBU,EAAKT,MAC7C7B,EAAYa,aAAa,CAACgB,KAAMS,EAAKT,QAE7CsB,UAAW,WACV,OAAOnD,EAAYa,aAAa,CAACgB,KAAMZ,M,qCC2C1BmC,MAtGf,SAAgBC,GAAQ,IACbf,EAAQe,EAARf,KACP,OACI,0BAASgB,UAAU,mBAAnB,UACI,yBAASA,UAAU,iBAAnB,SACI,cAAC,IAAD,CAAMC,GAAG,IAAT,SACI,qBAAKC,IAAI,wBAAwBC,IAAI,YAAYH,UAAU,aAInE,yBAASA,UAAU,mBAAnB,SACI,qBAAKA,UAAU,UAAf,SACI,+BACI,6BACI,cAAC,IAAD,CAASC,GAAG,IACHG,OAAK,EACLC,gBAAgB,YAFzB,6EAMJ,6BACI,cAAC,IAAD,CAASJ,GAAG,SACHG,OAAK,EACLC,gBAAgB,YAFzB,+CAMJ,6BACI,cAAC,IAAD,CAASJ,GAAG,cACHG,OAAK,EACLC,gBAAgB,YAFzB,0DAOJ,6BACI,cAAC,IAAD,CAASJ,GAAG,SACHG,OAAK,EACLC,gBAAgB,YAFzB,oDAMJ,6BACI,cAAC,IAAD,CAASJ,GAAG,YACHG,OAAK,EACLC,gBAAgB,YAFzB,uEAUhB,yBAASL,UAAU,kBAAnB,SACI,yBAASA,UAAU,WAAnB,UAEY,OAAJhB,QAAI,IAAJA,OAAA,EAAAA,EAAMpC,UAEE,+BACI,6BACI,eAAC,IAAD,CAASqD,GAAG,WAAWD,UAAU,4BAAjC,UACI,mBAAGA,UAAU,oBAAb,gBAAkChB,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAMpC,WACxC,cAAC,IAAD,SAGR,6BACI,cAAC,IAAD,CAAMqD,GAAG,QAAT,SACI,cAAC,IAAD,QAGR,6BACI,cAAC,IAAD,CAAMA,GAAG,UAAT,SACI,cAAC,IAAD,WAMZ,+BACI,6BACI,cAAC,IAAD,CAASA,GAAG,SAASG,OAAK,EACjBC,gBAAgB,YADzB,wCAKJ,6BACI,cAAC,IAAD,CAASJ,GAAG,YACHG,OAAK,EACLC,gBAAgB,YAFzB,6F,MCnDzBC,MArCf,SAAgBP,GACf,OACC,0BAASC,UAAU,SAAnB,UACU,qBAAKA,UAAU,iBAAf,SAEI,+BACI,6BACI,cAAC,IAAD,CAAMC,GAAG,IAAT,wCAGJ,6BACI,cAAC,IAAD,CAAMA,GAAG,SAAT,+CAEJ,6BACI,cAAC,IAAD,CAAMA,GAAG,cAAT,0DAEJ,6BACI,cAAC,IAAD,CAAMA,GAAG,SAAT,oDAEJ,6BACI,cAAC,IAAD,CAAMA,GAAG,YAAT,qEAMZ,0BAASD,UAAU,eAAnB,UACI,qBAAKO,OAAO,KAAKL,IAAI,wDACrB,qBAAKK,OAAO,KAAKL,IAAI,0DACrB,qBAAKK,OAAO,KAAKL,IAAI,6DAGlC,6D,YCLYM,MA5Bf,SAAkBT,GAAQ,IACfU,EAA6BV,EAA7BU,KAAM1B,EAAuBgB,EAAvBhB,UAAW2B,EAAYX,EAAZW,SACxB,OACI,0BAASV,UAAU,OAAnB,UACI,qBAAKE,IAAKO,EAAKE,IAAKR,IAAI,aACxB,0BAASH,UAAU,eAAnB,UACI,6BAAKS,EAAKnB,OACV,oBAAIU,UAAU,WAAd,SACI,mFAAcS,EAAK7C,SAASgD,KAAK,WAErC,8BAAIH,EAAKI,OAAT,uBAGJ,0BAASb,UAAU,WAAnB,UACI,yBAASA,UAAU,qBACnB,0BAASA,UAAU,iBAAnB,UACI,qBAAIA,UAAU,QAAd,UAAuBS,EAAK9B,MAAMmC,QAAQ,GAA1C,oBAEIJ,EACM,wBAAQV,UAAU,YAAYe,QAAShC,EAAUiC,KAAK,KAAMP,GAA5D,kDACA,e,gCCYfQ,MA/Bf,YAA+D,IAA5ChC,EAA2C,EAA3CA,KAAMiC,EAAqC,EAArCA,qBAAsBC,EAAe,EAAfA,aAE3C,OACI,mCAEQlC,EAAQ,0BAASe,UAAU,YAAnB,UACA,oBAAIA,UAAU,kBAAd,SACKf,EAAKK,OAEV,0BAASU,UAAU,qBAAnB,UACI,0BAASA,UAAU,2BAAnB,UACI,cAAC,IAAD,CAAcA,UAAU,mBAAmBe,QAASG,EAAqBF,KAAK,KAAK/B,EAAK,SACxF,cAAC,IAAD,CAAgBe,UAAU,qBAAqBe,QAASG,EAAqBF,KAAK,KAAK/B,EAAK,iBAEhG,kCAAI,iCAASA,EAAKP,WAAlB,MAAuC,4BAAI0C,OAAOnC,EAAKN,OAAOmC,QAAQ,KAAtE,sBACA,oBAAGd,UAAU,mBAAb,UACKoB,OAAOnC,EAAKP,SAAWO,EAAKN,OAAOmC,QAAQ,GADhD,oBAGA,cAAC,IAAD,CACId,UAAU,wBACVqB,MAAM,cACNN,QAASI,EAAaH,KAAK,KAAM/B,WAI3C,8CC+CPqC,MApEf,SAAcvB,GAAQ,IAAD,QACVf,EAAwBe,EAAxBf,KAAMuC,EAAkBxB,EAAlBwB,QAASC,EAASzB,EAATyB,MAChBN,EAAuB,SAACjC,EAAMwC,GACrB,QAAXA,EAAmBxC,EAAKP,WAAaO,EAAKP,WAC1CE,EAAYG,UAAUC,EAAMC,EAAMwC,GAC7B3E,MAAK,SAAAkC,GAAI,OAAIuC,EAAQvC,MACrB/B,MAAME,QAAQC,QASjBsE,EAAsB,SAACjB,GACzB7B,EAAYa,mBAAmBT,EAAMyB,GAChC3D,MAAK,SAAAkC,GAAI,OAAIuC,EAAQvC,MACrB/B,MAAME,QAAQC,QAEvB,OACI,0BAAS4C,UAAU,OAAnB,UACI,0BAASA,UAAU,oBAAnB,UACI,cAAC,IAAD,CAAgBA,UAAU,cAC1B,cAAC,IAAD,CAASA,UAAU,kBAAkBe,QAf/B,WACdnC,EAAYiB,YACP/C,MAAK,SAAAkC,GAAI,OAAIuC,EAAQvC,MACrB/B,MAAME,QAAQC,cAeP,OAAJ4B,QAAI,IAAJA,GAAA,UAAAA,EAAMT,YAAN,mBAAYX,gBAAZ,eAAsBK,QAAS,EAE3B,0BAAS+B,UAAU,cAAnB,UACI,oCAEQhB,QAFR,IAEQA,GAFR,UAEQA,EAAMT,YAFd,aAEQ,EAAYX,SAAS+D,KAAI,SAAA1C,GAAI,OACzB,6BACI,cAAC,EAAD,CAAUA,KAAMA,EACNiC,qBAAsBA,EACtBC,aAAcO,KAH5B,OAASzC,QAAT,IAASA,OAAT,EAASA,EAAMK,WAS3B,0BAASU,UAAU,eAAnB,UACI,mBAAGA,UAAU,oBAAb,sCACA,0BAASA,UAAU,oBAAnB,UACI,oBAAGA,UAAU,mBAAb,UACKoB,OAAM,OAACpC,QAAD,IAACA,GAAD,UAACA,EAAMT,YAAP,aAAC,EAAYV,YAAYiD,QAAQ,GAD5C,oBAKKU,EAAMvF,KAAK2F,SAAS,SAIf,KAHA,cAAC,IAAD,CAAM3B,GAAG,QAAT,SACE,wBAAQD,UAAU,mBAAlB,mEAStB,kK,QCjBP6B,G,MA7CD,SAAC,GAAkD,IAAjDN,EAAgD,EAAhDA,QAASO,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,gBAA8B,uDAE5DC,qBAAU,WACN,OAAO,kBAAMD,EAAgB,OAC/B,IAuBF,OACI,0BAAS/B,UAAU,QAAnB,UACI,cAAC,IAAD,CAASA,UAAU,eACnB,yBAASA,UAAU,aAAnB,SACI,uBAAMiC,SAzBW,SAACC,GAC1BA,EAAEC,iBACF,IAAMvF,EAAWsF,EAAEE,OAAOxF,SAASyF,MAC7BxF,EAAWqF,EAAEE,OAAOvF,SAASwF,MACnC3F,EAAYC,MAAMC,EAASC,GACtBC,MAAK,SAAAC,GACF,GAAGA,EAAIuF,QAAS,CACZ,IAAMC,EAAe,CACjBD,QAASvF,EAAIuF,QACbE,KAAM,SAEVT,EAAgBQ,QAEhBR,EAAgB,IAChBR,EAAQxE,GACR+E,EAAQW,KAAK,QAGpBxF,MAAME,QAAQC,QAOX,UACI,uBAAOsF,QAAQ,WAAf,SACI,uBAAOF,KAAK,OAAOlD,KAAK,WAAWqD,GAAG,WAAWC,YAAY,oGAAoBC,UAAU,MAE/F,uBAAOH,QAAQ,WAAf,SACI,uBAAOF,KAAK,WAAWI,YAAY,uCAAStD,KAAK,WAAWqD,GAAG,WAAWE,UAAU,MAExF,wBAAQ7C,UAAU,iBAAlB,sCACA,cAAC,IAAD,CAAMC,GAAG,YAAYD,UAAU,yBAA/B,0FCkCL8C,MAzEf,SAAc/C,GAAQ,IACXgD,EAAuDhD,EAAvDgD,KAAM/D,EAAiDe,EAAjDf,KAAMuC,EAA2CxB,EAA3CwB,QAASC,EAAkCzB,EAAlCyB,MAAOM,EAA2B/B,EAA3B+B,QAAQC,EAAmBhC,EAAnBgC,gBACrChD,EAAY,SAAC0B,GACf7B,EAAYG,UAAUC,EAAMyB,GACvB3D,MAAK,SAAAkC,GACFuC,EAAQvC,MAEX/B,MAAME,QAAQC,QAGvB,OACI,0BAAS4C,UAAU,OAAnB,UACI,0BAASA,UAAU,YAAnB,UACI,0BAASA,UAAU,SAAnB,UACI,oBAAIA,UAAU,kBAAd,kDACA,oCACK+C,QADL,IACKA,OADL,EACKA,EAAMC,QAAO,SAACC,GAAD,MAAsB,UAAfA,EAAEC,YAAsBvB,KAAI,SAACsB,GAAD,OAC7C,6BACI,cAAC,EAAD,CAAUxC,KAAMwC,EAAGlE,UAAWA,EAAW2B,WAAY1B,KADhDiE,EAAEE,aAMvB,0BAASnD,UAAU,QAAnB,UACI,oBAAIA,UAAU,kBAAd,sCACA,oCACK+C,QADL,IACKA,OADL,EACKA,EAAMC,QAAO,SAACC,GAAD,MAAsB,SAAfA,EAAEC,YAAqBvB,KAAI,SAACsB,GAAD,OAC5C,6BACI,cAAC,EAAD,CAAUxC,KAAMwC,EAAGlE,UAAWA,EAAW2B,WAAY1B,KADhDiE,EAAEE,aAMvB,0BAASnD,UAAU,cAAnB,UACI,oBAAIA,UAAU,kBAAd,uFACA,oCACK+C,QADL,IACKA,OADL,EACKA,EAAMC,QAAO,SAACC,GAAD,MAAsB,SAAfA,EAAEC,YAAqBvB,KAAI,SAACsB,GAAD,OAC5C,6BACI,cAAC,EAAD,CAAUxC,KAAMwC,EAAGlE,UAAWA,EAAW2B,WAAY1B,KADhDiE,EAAEE,aAMvB,0BAASnD,UAAU,UAAnB,UACI,oBAAIA,UAAU,kBAAd,wDACA,oCACK+C,QADL,IACKA,OADL,EACKA,EAAMC,QAAO,SAACC,GAAD,MAAsB,WAAfA,EAAEC,YAAuBvB,KAAI,SAACsB,GAAD,OAC9C,6BACI,cAAC,EAAD,CAAUxC,KAAMwC,EAAGlE,UAAWA,EAAW2B,WAAY1B,KADhDiE,EAAEE,aAMvB,0BAASnD,UAAU,SAAnB,UACI,oBAAIA,UAAU,kBAAd,wDACA,oCACK+C,QADL,IACKA,OADL,EACKA,EAAMC,QAAO,SAACC,GAAD,MAAsB,UAAfA,EAAEC,YAAsBvB,KAAI,SAACsB,GAAD,OAC7C,6BACI,cAAC,EAAD,CAAUxC,KAAMwC,EAAGlE,UAAWA,EAAW2B,WAAY1B,KADhDiE,EAAEE,gBAQvBnE,EACM,cAAC,EAAD,CAAMA,KAAMA,EAAMuC,QAASA,EAASC,MAAOA,IAC3C,cAAC,EAAD,CAAOD,QAASA,EAASO,QAASA,EAASC,gBAAiBA,QCJnEqB,G,MAhEE,SAAC,GAAgC,IAA/BtB,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,gBAExBC,qBAAU,WACN,OAAO,kBAAMD,EAAgB,OAC/B,IAiCF,OACI,0BAAS/B,UAAU,WAAnB,UACI,cAAC,IAAD,CAAYA,UAAU,kBACtB,yBAASA,UAAU,gBAAnB,SACI,uBAAMiC,SAnCc,SAACC,GAC7BA,EAAEC,iBACF,IAAM7E,EAAU,CACZV,SAAUsF,EAAEE,OAAOxF,SAASyF,MAC5BgB,MAAOnB,EAAEE,OAAOiB,MAAMhB,MACtBiB,MAAOpB,EAAEE,OAAOkB,MAAMjB,MACtBxF,SAAUqF,EAAEE,OAAOvF,SAASwF,MAC5BkB,eAAgBrB,EAAEE,OAAOmB,eAAelB,OAE5C3F,EAAYW,SAASC,GAChBR,MAAK,SAAAC,GACF,GAAmB,4BAAhBA,EAAIuF,QAAuC,CAC1C,IAAMC,EAAe,CACjBD,QAASvF,EAAIuF,QACbE,KAAM,SAEVT,EAAgBQ,OACd,CAKFR,EAJqB,CACjBO,QAAS,iHACTE,KAAM,YAGVV,EAAQW,KAAK,cAGpBxF,MAAME,QAAQC,QASX,UACI,uBAAOsF,QAAQ,WAAf,SACI,uBAAOF,KAAK,OAAQlD,KAAK,WAAWqD,GAAG,WAAWC,YAAY,oGAAoBC,UAAU,MAEhG,uBAAOH,QAAQ,QAAf,SACI,uBAAOF,KAAK,OAAOI,YAAY,6CAAUtD,KAAK,QAAQqD,GAAG,QAAQE,UAAU,MAE/E,uBAAOH,QAAQ,QAAf,SACI,uBAAOF,KAAK,QAAQI,YAAY,wFAAkBtD,KAAK,QAAQqD,GAAG,QAAQE,UAAU,MAExF,uBAAOH,QAAQ,WAAf,SACI,uBAAOF,KAAK,WAAWI,YAAY,uCAAStD,KAAK,WAAWqD,GAAG,WAAWE,UAAU,MAExF,uBAAOH,QAAQ,iBAAf,SACI,uBAAOF,KAAK,WAAWI,YAAY,0GAAqBtD,KAAK,iBAAiBqD,GAAG,iBAAiBE,UAAU,MAEhH,wBAAQ7C,UAAU,oBAAlB,uGC5DL,cAAwB,IAAtB8B,EAAqB,EAArBA,QAAQP,EAAa,EAAbA,QAQrB,OAPA7E,EAAYgB,SACPZ,MAAK,WACFyE,OAAQ9E,GACRqF,EAAQW,KAAK,QAEhBxF,MAAME,QAAQC,OAGf,M,OCPFoG,G,kBAAa/H,EAAaC,SAC1BK,EAAeN,EAAaM,aA6CnB0H,MA3Cf,YAAiE,IAArCzE,EAAoC,EAApCA,KAAKuC,EAA+B,EAA/BA,QAAQmC,EAAuB,EAAvBA,qBAkBrC,OACI,0BAAS1D,UAAU,kBAAnB,UACI,gJACA,uBAAMA,UAAU,uBAAuBiC,SAnBrB,SAACC,GAAO,IAAD,MAC7BA,EAAEC,iBACF,IAAMwB,EAAM,UAAGzB,EAAEE,OAAOuB,cAAZ,aAAG,EAAiBtB,MAC1BuB,EAAQ,UAAG1B,EAAEE,OAAOwB,gBAAZ,aAAG,EAAmBvB,MAC9BlD,EAAK,OAAGH,QAAH,IAAGA,GAAH,UAAGA,EAAM6E,eAAT,aAAG,EAAezE,MAAK,SAAA0E,GAAG,OAAIA,EAAIF,WAAaA,KAC1D,GAAGD,GAAUC,IAAczE,EAAO,CAC9B,IAAM4E,EAAWP,EAAWG,GACtBK,EAAa,CAACL,SAAQC,WAAUG,YACtCrH,EAAYa,aAAa,CAAC0G,WAAYD,IACjClH,MAAK,SAAAkC,GAAI,OAAIuC,EAAQvC,MACrBlC,MAAK,kBAAM4G,OACXzG,MAAME,QAAQC,SAQnB,UACI,uBAAOsF,QAAQ,SAAf,kDACA,wBAAQpD,KAAK,SAASqD,GAAG,SAAzB,SAEQuB,OAAOC,KAAKX,GAAY7B,KAAI,SAAAyC,GAAG,OAC3B,wBAAQ/B,MAAO+B,EAAf,SAA+BrI,EAAaqI,IAAnBA,QAIrC,uBAAO1B,QAAQ,kBAAf,4CACA,uBAAOF,KAAK,OAAOlD,KAAK,WAAWqD,GAAG,oBACtC,0BAAS3C,UAAU,4BAAnB,UACI,wBAAQwC,KAAK,SAASxC,UAAU,wBACxBe,QAAS2C,EADjB,wDAGA,uBAAOlB,KAAK,SAASxC,UAAU,0BAA0BqC,MAAM,mDCrC7EtG,EAAeN,EAAaM,aAgDnBsI,EA/CM,SAAC,GAAsC,IAArCrF,EAAoC,EAApCA,KAAasF,GAAuB,EAA9BC,MAA8B,EAAvBD,UAAU/C,EAAa,EAAbA,QAAa,EAEXiD,oBAAS,GAFE,mBAEhDC,EAFgD,KAEhCC,EAFgC,KAIjDhB,EAAuB,WACzBgB,GAAkB,SAAAC,GAAS,OAAKA,MAGpC3C,qBAAU,YACC,OAAJhD,QAAI,IAAJA,OAAA,EAAAA,EAAM6E,QAAQ5F,QAAS,GACtBqG,GAAS,SAAAK,GAAS,kCAASA,GAAT,IAAmBd,QAAS7E,EAAK6E,QAAQ,UAEjE,CAAC7E,IAUH,OACI,0BAASgB,UAAU,gBAAnB,UACI,iHAEIyE,EACM,cAAC,EAAD,CAAmBzF,KAAMA,EAAMuC,QAASA,EAASmC,qBAAsBA,IACvE,0BAAS1D,UAAU,aAAnB,UACE,uBAAMA,UAAU,kBAAkB4E,SAfvB,SAAC1C,GAAO,IAAD,EAC5B2C,EAAmB3C,EAAEE,OAAOC,MAC5ByC,EAAQ,OAAG9F,QAAH,IAAGA,GAAH,UAAGA,EAAM6E,eAAT,aAAG,EAAezE,MAAK,SAAA0E,GAAG,OAAIA,EAAIF,WAAaiB,KAC7D,GAAGC,EAAU,CAAC,IACHnB,EAA4BmB,EAA5BnB,OAAOC,EAAqBkB,EAArBlB,SAASG,EAAYe,EAAZf,SACvBO,GAAS,SAAAK,GAAS,kCAASA,GAAT,IAAoBd,QAAS,CAACF,SAAQC,WAAUG,mBAUtD,UACI,qGACA,wBAAQzE,KAAK,UAAUqD,GAAG,UAA1B,gBAEQ3D,QAFR,IAEQA,OAFR,EAEQA,EAAM6E,QAAQlC,KAAI,SAAAmC,GAAG,OACjB,yBAA2BzB,MAAOyB,EAAIF,SAAtC,UAAiDE,EAAIF,SAArD,KAAiE7H,EAAa+H,EAAIH,UAArEG,EAAIF,kBAKjC,wBAAQ5D,UAAU,sBAAsBe,QAAS2C,EAAjD,2GC5BTqB,G,MAjBM,SAAC,GAAgB,IAAfT,EAAc,EAAdA,SACbU,EAAyB,SAAC9C,GAC5B,IAAM+C,EAAgB/C,EAAEE,OAAOC,MAC/BiC,GAAS,SAAAK,GAAS,kCAASA,GAAT,IAAoBO,QAASD,QAEnD,OACI,0BAASjF,UAAU,gBAAnB,UACI,wHACA,uBAAMA,UAAU,iBAAhB,UACI,uBAAO0C,QAAQ,OAAf,gCACA,uBAAOF,KAAK,QAAQG,GAAG,OAAOrD,KAAK,UAAU+C,MAAM,OAAOuC,SAAUI,IACpE,uBAAOtC,QAAQ,OAAf,mDACA,uBAAOF,KAAK,QAAQG,GAAG,OAAOrD,KAAK,UAAU+C,MAAM,OAAOuC,SAAUI,YCIrEG,G,MAfU,SAAC,GAAqB,EAApBZ,MAAqB,IAAfD,EAAc,EAAdA,SAK7B,OACI,0BAAStE,UAAU,oBAAnB,UACI,oBAAIA,UAAU,0BAAd,kIAGA,0BAAUV,KAAK,cAAcqD,GAAG,oBAAoByC,KAAK,KAAKC,KAAK,KAAKC,OATjD,SAACpD,GAC5B,IAAMqD,EAAcrD,EAAEE,OAAOC,MAC7BiC,GAAS,SAAAK,GAAS,kCAASA,GAAT,IAAoBY,2BCqG/BC,MAjGf,YAAgE,IAAD,YAA/CxG,EAA+C,EAA/CA,KAAMuC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,MAAMM,EAA0B,EAA1BA,QAAQC,EAAkB,EAAlBA,gBAAkB,EAClCyC,mBAAS,CAACjG,KAAI,OAACS,QAAD,IAACA,OAAD,EAACA,EAAMT,OADa,mBACpDgG,EADoD,KAC9CD,EAD8C,OAE3BE,mBAAS,IAFkB,mBAEpDT,EAFoD,KAE1C0B,EAF0C,KAsD3D,OAlDAzD,qBAAU,WAAO,IAAD,EACZ,GAAGZ,OAAM,OAACpC,QAAD,IAACA,GAAD,UAACA,EAAMT,YAAP,aAAC,EAAYV,aAAe,GACjC4H,EAAY,QACV,CAAC,IAAD,EACIC,EAAoBtE,OAAO3F,EAAaC,QAAb,OAAqB6I,QAArB,IAAqBA,GAArB,UAAqBA,EAAOV,eAA5B,aAAqB,EAAgBF,SAClEgC,MAAMD,IACND,EAAYC,MAGtB,CAAC1G,EAAD,OAAOuF,QAAP,IAAOA,OAAP,EAAOA,EAAOV,UAqChB7B,qBAAU,WACNsC,GAAS,SAAAK,GAAS,kCAASA,GAAT,IAAoBpG,KAAI,OAACS,QAAD,IAACA,OAAD,EAACA,EAAMT,YACnD,QAACS,QAAD,IAACA,GAAD,UAACA,EAAMT,YAAP,aAAC,EAAYX,WAGX,0BAASoC,UAAU,eAAnB,UACI,yBAASA,UAAU,uBAAnB,UAEY,OAAJhB,QAAI,IAAJA,GAAA,UAAAA,EAAMT,YAAN,mBAAYX,gBAAZ,eAAsBK,QAAS,EACzB,qCACE,cAAC,EAAD,CAAMe,KAAMA,EAAMuC,QAASA,EAASC,MAAOA,IAC3C,cAAC,EAAD,CAAcxC,KAAMA,EAAMuC,QAASA,EAASgD,MAAOA,EAAOD,SAAUA,IACpE,cAAC,EAAD,CAAcC,MAAOA,EAAOD,SAAUA,IACtC,cAAC,EAAD,CAAkBC,MAAOA,EAAOD,SAAUA,OAE5C,2OAKN,OAAJtF,QAAI,IAAJA,GAAA,UAAAA,EAAMT,YAAN,mBAAYX,gBAAZ,eAAsBK,QAAS,EAC7B,qCACM,yBAAS+B,UAAU,uBAAnB,cAEqBvD,IAAbsH,EACM,qCACE,mFAAa,iCAASA,EAASjD,QAAQ,IAAM,KAA7C,oBACA,oBAAGd,UAAU,qCAAb,4EACiB,oCAAUoB,OAAM,OAACmD,QAAD,IAACA,GAAD,UAACA,EAAOhG,YAAR,aAAC,EAAaV,YAAcuD,OAAO2C,IAAWjD,QAAQ,GAAtE,0BAGpB,OAIb,wBAAQd,UAAU,0BAA0Be,QArEnC,WAAO,IAAD,QAEzB6E,EAAW,CACbrH,KAAI,OAACgG,QAAD,IAACA,GAAD,UAACA,EAAOhG,YAAR,aAAC,EAAaX,SAClBiG,QAAS,CAACF,OAAM,OAACY,QAAD,IAACA,GAAD,UAACA,EAAOV,eAAR,aAAC,EAAgBF,OAAQC,SAAQ,OAAEW,QAAF,IAAEA,GAAF,UAAEA,EAAOV,eAAT,aAAE,EAAgBD,UACnEG,SAAUA,EACVlG,YAAgB,OAAL0G,QAAK,IAALA,GAAA,UAAAA,EAAOhG,YAAP,eAAaV,YAAakG,EACrCwB,YAAYhB,EAAMgB,aAAe,GACjCL,QAAO,OAAEX,QAAF,IAAEA,OAAF,EAAEA,EAAOW,QAChBW,MAAM,IAAIC,MAAOC,kBAGrB,GADmBH,EAASrH,MAAQqH,EAAS/B,QAAQD,UAAYgC,EAAS/B,QAAQF,QAAUiC,EAAS7B,UAAY6B,EAAS/H,YAAc+H,EAASV,QAE7IxI,EAAYa,aAAa,CAACgH,MAAMqB,IAC3B9I,MAAK,SAAAkC,GACFA,EAAKT,KAAO,GACZgD,EAAQvC,GAKR+C,EAJqB,CACjBO,QAAQ,iJACRE,KAAM,eAIb1F,MAAK,kBAAMgF,EAAQW,KAAK,QACxBxF,MAAME,QAAQC,WACjB,CAKF2E,EAJqB,CACjBO,QAAS,2MACTE,KAAM,YAyCE,wHAIF,S,wBC3EPwD,MApBf,WACI,OACI,yBAAShG,UAAU,WAAnB,SACI,0BAASA,UAAU,mBAAnB,UACI,0BAASA,UAAU,iBAAnB,UACI,cAAC,IAAD,CAASiG,MAAM,kBACf,qDAEJ,0BAASjG,UAAU,iBAAnB,UACI,cAAC,IAAD,CAAQiG,MAAM,kBACd,8DAEJ,0BAASjG,UAAU,mBAAnB,UACI,cAAC,IAAD,CAAYiG,MAAM,kBAClB,oKCfdhK,G,MAAM,UAsBGiK,EApBK,CAChBC,SAAU,WACN,OAAOnK,EAAqBC,EAAK,OAC5Ba,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,MAAME,QAAQC,QAEvBgJ,WAAY,SAACC,GAET,OAAOrK,EADUC,oBACoB,OAAQoK,GACxCvJ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,MAAME,QAAQC,QAEvBkJ,SAAU,SAACD,GAEP,OAAOrK,EADUC,kBACoB,OAAOoK,GACvCvJ,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBC,MAAME,QAAQC,SCwDZmJ,G,MAxEE,SAAC,GAA+B,IAA9BtH,EAA6B,EAA7BA,KAAMuH,EAAuB,EAAvBA,YAAaxH,EAAU,EAAVA,KAAU,EAClBwF,oBAAS,GADS,mBACrCiC,EADqC,KAC9BC,EAD8B,OAEZlC,oBAAS,GAFG,mBAErCmC,EAFqC,KAE3BC,EAF2B,KAItCC,EAAoB,SAACrE,GACpBxD,GAAQC,EAAK6H,OAAO3D,MAAQnE,EAAKmE,MACpB,SAATX,IACKvD,EAAK8H,MAAMnF,SAAS5C,EAAKmE,MACzBqD,EAAYvH,EAAKuD,IAGb,YAATA,IACKvD,EAAK+H,SAASpF,SAAS5C,EAAKmE,MAC5BqD,EAAYvH,EAAKuD,MA2BjC,OApBAR,qBAAU,WAAO,IAAD,KACZ,OAAG/C,QAAH,IAAGA,GAAH,UAAGA,EAAM8H,aAAT,aAAG,EAAanF,SAAb,OAAsB5C,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAMmE,OAC3BuD,GAAS,IAEb,OAAGzH,QAAH,IAAGA,GAAH,UAAGA,EAAM+H,gBAAT,aAAG,EAAgBpF,SAAhB,OAAyB5C,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAMmE,OAC9ByD,GAAY,KAElB,CAAC5H,IAEHgD,qBAAU,WAAO,IAAD,KACZ,OAAG/C,QAAH,IAAGA,GAAH,UAAGA,EAAM8H,aAAT,aAAG,EAAanF,SAAb,OAAsB5C,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAMmE,QAC3BuD,GAAS,GACTE,GAAY,KAEhB,OAAG3H,QAAH,IAAGA,GAAH,UAAGA,EAAM+H,gBAAT,aAAG,EAAgBpF,SAAhB,OAAyB5C,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAMmE,QAC9ByD,GAAY,GACZF,GAAS,MAEf,CAACzH,EAAK8H,MAAO9H,EAAK+H,WAGZ,0BAAShH,UAAU,YAAnB,UACI,0BAASA,UAAU,oBAAnB,UACI,oBAAIA,UAAU,0BAAd,SACKf,EAAKgI,QAEV,mBAAGjH,UAAU,gCAAb,SACKf,EAAKsG,cAEV,0BAASvF,UAAU,oBAAnB,UACI,4BAAIf,EAAK6H,OAAOlK,WAChB,4BAAIqC,EAAKiI,WAAWC,MAAM,KAAK,WAGvC,0BAASnH,UAAU,kBAAnB,UACI,0BAASA,UAAU,eAAnB,UACI,mBAAGA,UAAU,oBAAb,SAAkCf,EAAK8H,MAAM9I,SAC7C,cAAC,IAAD,CAAQ+B,UAAWyG,EAAQ,eAAiB,OACpC1F,QAAS8F,EAAiB7F,KAAK,KAAK,aAGhD,0BAAShB,UAAU,eAAnB,UACI,mBAAGA,UAAU,uBAAb,SAAqCf,EAAK+H,SAAS/I,SACnD,cAAC,IAAD,CAAW+B,UAAW2G,EAAY,qBAAuB,UAC9C5F,QAAS8F,EAAiB7F,KAAK,KAAK,wBCkDxDoG,EAhHM,SAAC,GAA6B,IAA5BpI,EAA2B,EAA3BA,KAAM+C,EAAqB,EAArBA,gBAAqB,EACdyC,mBAAS,IADK,mBACvC6C,EADuC,KAC7BC,EAD6B,KAG9CtF,qBAAU,WACNkE,EAAYC,WACPrJ,MAAK,SAAAyK,GACFD,EAAYC,MACbtK,MAAME,QAAQC,SACtB,IAEH,IAAMoJ,EAAc,SAACH,EAAM7D,GACvB,IAAMgF,EAAa,SAACC,EAAIC,GACpBD,EAAGhF,KAAKzD,EAAKmE,KACb,IAAMzD,EAAQgI,EAAK/H,WAAU,SAAAsD,GAAC,OAAIA,IAAMjE,EAAKmE,OACzCuE,EAAK9F,SAAL,OAAc5C,QAAd,IAAcA,OAAd,EAAcA,EAAMmE,MACpBuE,EAAK9H,OAAOF,EAAO,IAId,SAAT8C,EACAgF,EAAWnB,EAAKU,MAAOV,EAAKW,UAE5BQ,EAAWnB,EAAKW,SAAUX,EAAKU,OAEnCb,EAAYI,SAASD,GAChBvJ,MAAK,SAAAC,GACF,IAAM2C,EAAQ2H,EAAS1H,WAAU,SAAAgI,GAAC,OAAIA,EAAEb,OAAO3D,MAAQnE,EAAKmE,OAC1CkE,EACR3H,GAAS2G,EACnBiB,EAAYvK,MAEfE,MAAME,QAAQC,QA8BvB,OACI,0BAAS4C,UAAU,QAAnB,UACI,yBAASA,UAAU,YAAnB,SAE4B,IAApBqH,EAASpJ,OACH,kJACA,qCACF,cAAC,IAAD,CAAY+B,UAAU,mBADpB,OAGMqH,QAHN,IAGMA,OAHN,EAGMA,EAAUO,MAAK,SAACC,EAAGC,GAAJ,OAAUhC,KAAKiC,MAAMD,EAAEZ,YAAcpB,KAAKiC,MAAMF,EAAEX,eAC5DvF,KAAI,SAAA0E,GAAI,OACL,cAAC,EAAD,CACUpH,KAAMoH,EACNG,YAAaA,EACbxH,KAAMA,GAHDqH,EAAKd,YAAcc,EAAKY,MAAQZ,EAAKS,OAAOlK,aAQlEoC,EAGK,KADF,mBAAGgB,UAAU,uBAAb,gRAQpBhB,EACM,0BAASgB,UAAU,cAAnB,UACE,iHACA,uBAAMiC,SA3DA,SAACC,GACvBA,EAAEC,iBACF,IAAM6F,EAAU,CACZf,MAAO/E,EAAEE,OAAO6E,MAAM5E,MACtBkD,YAAarD,EAAEE,OAAOmD,YAAYlD,OAEtC6D,EAAYE,WAAW4B,GAClBlL,MAAK,SAAAC,GACF,IAAMwF,EAAe,CACjBD,QAASvF,EAAIuF,QACbE,KAAM,SAENzF,EAAIuF,QACJP,EAAgBQ,IAEhBA,EAAaD,QAAU,uJACvBC,EAAaC,KAAO,UACpBT,EAAgBQ,GAChB+E,EAAYvK,GACZmF,EAAEE,OAAO6E,MAAM5E,MAAQ,GACvBH,EAAEE,OAAOmD,YAAYlD,MAAQ,OAGpCpF,MAAME,QAAQC,QAoCgC4C,UAAU,gBAA7C,UACI,uBAAOwC,KAAK,OAAOK,UAAQ,EAACD,YAAY,mDAAWtD,KAAK,UACxD,0BACIA,KAAK,cACLuD,UAAQ,EACRD,YAAY,+EACZwC,KAAK,KACLC,KAAK,OAET,wBAAQrF,UAAU,kBAAlB,gFAGN,SC5GP,G,MAAA,WACX,OACI,0BAASA,UAAU,QAAnB,UACI,cAAC,IAAD,CAAgBA,UAAU,eAC1B,0BAASA,UAAU,gBAAnB,UACI,mBAAGA,UAAU,qBAAb,sjEACA,0BAASA,UAAU,eAAnB,UACI,mBAAGA,UAAU,uBAAb,mbAMA,qBAAKE,IAAI,wBAAwBC,IAAI,4B,gBCd1C,cACX,OACI,0BAASH,UAAU,aAAnB,UACI,cAAC,IAAD,CAASA,UAAU,oBACnB,oBAAIA,UAAU,uBAAd,8DACA,yBAASA,UAAU,kBAAnB,SACI,66BAEiD,kDAFjD,uDAGA,qEAEJ,oBAAIA,UAAU,uBAAd,oGACA,yBAASA,UAAU,kBAAnB,SACI,uJAA0B,sDAA1B,qXAA4H,oDAA5H,iLAAwL,sDAAxL,SAEJ,oBAAIA,UAAU,uBAAd,uFACA,yBAASA,UAAU,kBAAnB,SACI,iVAA8D,2CAA9D,uIACwB,iDADxB,uFAEkB,sHAFlB,2CAE4D,yJAF5D,a,yBCwBDiI,GAxCM,SAAC,GAAqC,IAApC1F,EAAmC,EAAnCA,aAAcR,EAAqB,EAArBA,gBAYjC,MAN0B,WAAX,OAAZQ,QAAY,IAAZA,OAAA,EAAAA,EAAcC,OACb0F,YAAW,WACPnG,EAAgB,MAClB,MAIF,yBAAS/B,UAAW,wBAAuBuC,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAcC,MAAzD,SAE+B,WAAX,OAAZD,QAAY,IAAZA,OAAA,EAAAA,EAAcC,MACR,qCACE,cAAC,KAAD,CAASxC,UAAU,sBACnB,yBAASA,UAAU,uBAAnB,SACI,mCAAIuC,QAAJ,IAAIA,OAAJ,EAAIA,EAAcD,YAEtB,cAAC,KAAD,CACItC,UAAU,qBACVe,QArBE,WACtBgB,EAAgB,UAwBF,qCACE,cAAC,KAAD,CAAQ/B,UAAU,sBAClB,yBAASA,UAAU,uBAAnB,SACI,mCAAIuC,QAAJ,IAAIA,OAAJ,EAAIA,EAAcD,kB,qCCoH/B6F,I,MAjJK,SAAC,GAA8C,IAA7CnJ,EAA4C,EAA5CA,KAAMuC,EAAsC,EAAtCA,QAASQ,EAA6B,EAA7BA,gBAAgBD,EAAa,EAAbA,QAEjDE,qBAAU,WACN,OAAO,kBAAMD,EAAgB,OAC/B,IAJ4D,MAM9ByC,oBAAS,GANqB,mBAMvD4D,EANuD,KAM7CC,EAN6C,KAQxDC,EAAiB,WACnBD,GAAY,SAAAE,GAAI,OAAKA,MAGnBC,EAAoB,SAACC,EAAKC,EAAOxG,GAAO,IAAD,cACrBgC,OAAOyE,QAAQF,GAAK,GADC,GAClCrE,EADkC,KAEzC,GAFyC,KAE/BnG,OAASyK,EAAO,CACtB,IAAMnG,EAAe,CACjBD,QAAQ,gIAAD,OAA8B8B,EAA9B,0IAA+DsE,EAA/D,gDACPlG,KAAM,SAIV,OAFAN,EAAEE,OAAOgC,GAAK/B,MAAQrD,EAAKoF,GAC3BrC,EAAgBQ,GACTqG,QAAQC,OAAO,sBAE1B,OAAOD,QAAQE,WAGbC,EAAmB,yCAAG,WAAO7G,GAAP,wBAAA2F,EAAA,yDACxB3F,EAAEC,iBACIvF,EAAWsF,EAAEE,OAAOxF,SAASyF,MAC7BiB,EAAQpB,EAAEE,OAAOkB,MAAMjB,MACvBgB,EAAQnB,EAAEE,OAAOiB,MAAMhB,MACvB2G,EAAU,GACZC,GAAmB,EACnBrM,IAAaoC,EAAKpC,SAPE,iCAQf4L,EAAkB,CAAC5L,YAAW,EAAGsF,GACjCpF,MAAK,WACFkM,EAAQpM,SAAWA,KAEtBK,OAAM,kBAAMgM,GAAmB,KAZhB,WAahBA,EAbgB,sDAepB5F,IAAUrE,EAAKqE,MAfK,kCAgBfmF,EAAkB,CAACnF,SAAQ,EAAGnB,GAC9BpF,MAAK,kBAAMkM,EAAQ3F,MAAQA,KAC3BpG,OAAM,kBAAMgM,GAAmB,KAlBhB,YAmBhBA,EAnBgB,sDAqBpB3F,IAAUtE,EAAKsE,MArBK,kCAsBfkF,EAAkB,CAAClF,SAAQ,EAAGpB,GAC9BpF,MAAK,kBAAMkM,EAAQ1F,MAAQA,KAC3BrG,OAAM,kBAAMgM,GAAmB,KAxBhB,YAyBhBA,EAzBgB,sDA0Bf3F,EAAM9B,MAAM,+BA1BG,wBA2BhBO,EAAgB,CACZO,QAAS,uHACTE,KAAM,UAEVN,EAAEE,OAAOkB,MAAMjB,MAAQrD,EAAKsE,MAC5BgF,IAhCgB,8BAoCY,IAAhCpE,OAAOC,KAAK6E,GAAS/K,OApCD,0CAqCbqK,KArCa,QAuCxB5L,EAAYa,aAAayL,GACpBlM,MAAK,SAAAC,GACF,GAAIA,EAAIuF,QAAS,CACb,IAAM4G,EAAanM,EAAIuF,QAAQ6E,MAAM,aACrC,GAAG+B,EAAWjL,OAAS,EAAG,CACtB,IAAMkL,EAAa5M,KAAKwL,MAAMxL,KAAKC,UAAU0M,EAAW,GAAG/B,MAAM,OAC3DiC,EAAkBlF,OAAOmF,OAAOF,GAAY,GAAIhC,MAAM,KAAK,GAAGmC,OAOnE,OANDpH,EAAEE,OAAOgH,GAAgB/G,MAAQrD,EAAKoK,GACtCrH,EAAgB,CACZO,QAAQ,mGAAD,OAA0B8G,GACjC5G,KAAM,eAET8F,IAGL,IAAM/F,EAAe,CACjBD,QAASvF,EAAIuF,QACbE,KAAM,SAGV,OADAT,EAAgBQ,GACT+F,IAOPvG,EAJqB,CACjBO,QAAS,oIACTE,KAAM,YAGVjB,EAAQxE,GACRuL,OAGPrL,MAAM6E,EAAQW,KAAK,aAvEA,4CAAH,sDAyEzB,OACI,yBAASzC,UAAU,eAAnB,SACI,uBAAMA,UAAU,oBAAoBiC,SAAU8G,EAA9C,UACI,uBAAOrG,QAAQ,WAAf,+GACA,uBAAOF,KAAK,OACL+G,aAAY,OAAEvK,QAAF,IAAEA,OAAF,EAAEA,EAAMpC,SACpB0C,KAAK,WACLkK,UAAWpB,EACXpI,UAAWoI,EAAW,UAAY,KAEzC,uBAAO1F,QAAQ,QAAf,6CACA,uBAAOF,KAAK,QACL+G,aAAY,OAAEvK,QAAF,IAAEA,OAAF,EAAEA,EAAMsE,MACpBhE,KAAK,QACLkK,UAAWpB,EACXpI,UAAWoI,EAAW,UAAY,KAEzC,uBAAO1F,QAAQ,QAAf,wDACA,uBAAOF,KAAK,QACL+G,aAAY,OAAEvK,QAAF,IAAEA,OAAF,EAAEA,EAAMqE,MACpB/D,KAAK,QACLkK,UAAWpB,EACXpI,UAAWoI,EAAW,UAAY,KAEzC,0BAASpI,UAAU,gCAAnB,UACI,wBAAQA,UAAYoI,EAAqC,wBAA1B,wBACvB5F,KAAK,SACLzB,QAASuH,EAFjB,SAGEF,EAAW,iCAAU,iEAGnBA,EACM,wBACE5F,KAAK,SACLxC,UAAU,mBAFZ,8DAKA,eCtIxBjE,I,YAAeN,EAAaM,cAqFnB0N,GAnFY,SAAC,GAA0F,IAAzF5F,EAAwF,EAAxFA,QAASnE,EAA+E,EAA/EA,MAAMgK,EAAyE,EAAzEA,uBAAuBC,EAAkD,EAAlDA,4BAA6B5H,EAAqB,EAArBA,gBAAqB,EACjFyC,oBAAS,GADwE,mBAC1G4D,EAD0G,KAChGC,EADgG,OAElF7D,mBAASX,EAAQD,UAFiE,mBAE1GA,EAF0G,KAEjGgG,EAFiG,KA4B3GC,EAAiB,SAACC,GACfA,GACDF,EAAY/F,EAAQD,UAExByE,GAAY,SAAAE,GAAI,OAAKA,MAOzB,OACI,0BAASvI,UAAU,uBAAnB,UACI,0BAASA,UAAU,sCAAnB,UACI,uBAAO0C,QAAQ,qBAAf,kDACA,uBAAOF,KAAK,OACLG,GAAG,qBACHrD,KAAK,SACLiK,aAAcxN,GAAa8H,EAAQF,QACnC6F,UAAU,OAIrB,0BAASxJ,UAAU,wCAAnB,UACI,uBAAO0C,QAAQ,uBAAf,2EACA,uBAAOF,KAAK,OACLG,GAAG,uBACHrD,KAAK,WACL+C,MAAOuB,EACP4F,UAAWpB,EACXxD,SAtDa,SAAC1C,GAC7B0H,GAAY,SAAArB,GAAI,OAAIrG,EAAEE,OAAOC,UAsDdrC,UAAWoI,EAAW,mBAAqB,QAGtD,yBAASpI,UAAU,uCAAnB,SAGQoI,EACM,qCACE,cAAC,IAAD,CAASpI,UAAU,UAAUe,QA3DrB,WAC5B,GAAG6C,IAAaC,EAAQD,SACpB,OAAOiG,IAEX,GAAGjG,EAAS3F,OAAS,GAMjB,OALA8D,EAAgB,CACZO,QAAS,gRACTE,KAAM,eAEVqH,GAAe,GAGnB,IAAM7F,EAAa,CACfL,OAAQE,EAAQF,OAChBC,SAAUA,EACVG,SAAUF,EAAQE,UAEtB4F,EAA4B9F,EAAQG,EAAWtE,MA2C3B,cAAC,IAAD,CAAWqB,QAAS8I,EAAe7I,KAAK,MAAK,QAG/C,qCACE,cAAC,IAAD,CAASD,QAAS8I,IAClB,cAAC,IAAD,CAAS9I,QAtCJ,WACzB,OAAO2I,EAAuB7F,EAASzC,OAAO1B,gBCKvCqK,GA3CQ,SAAC,GAA2F,IAA1F/K,EAAyF,EAAzFA,KAAMuC,EAAmF,EAAnFA,QAASQ,EAA0E,EAA1EA,gBAAiB2H,EAAyD,EAAzDA,uBAAwBC,EAAiC,EAAjCA,4BAAiC,EAClEnF,oBAAS,GADyD,mBACvGwF,EADuG,KACvFC,EADuF,KAGxGvG,EAAuB,WACzBuG,GAAkB,SAAA1B,GAAI,OAAKA,MAG/B,OACI,0BAASvI,UAAU,kBAAnB,iBAEQhB,QAFR,IAEQA,OAFR,EAEQA,EAAM6E,QAAQlC,KAAI,SAACmC,EAAKpE,GAAN,OACd,cAAC,GAAD,CAEImE,QAASC,EACTpE,MAAOA,EACPgK,uBAAwBA,EACxBC,4BAA6BA,EAC7B5H,gBAAiBA,IALT,OAAH+B,QAAG,IAAHA,OAAA,EAAAA,EAAKF,WAAL,OAAgBE,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAKH,YAWT,KAArB,OAAJ3E,QAAI,IAAJA,OAAA,EAAAA,EAAM6E,QAAQ5F,QACR,8JACA,KAIN+L,EACM,cAAC,EAAD,CAAmBhL,KAAMA,EAAMuC,QAASA,EAASmC,qBAAsBA,IACvE,wBAAQ1D,UAAU,sBACVe,QAAS2C,EADjB,wG,YC4BPwG,OA7Df,YAA8C,IAAD,EAArB3F,EAAqB,EAArBA,MAAM4F,EAAe,EAAfA,aAS1B,OACI,0BAASnK,UAAU,kBAAnB,UACQ,0BAASA,UAAU,wBAAnB,UACI,cAAC,IAAD,CAAgBA,UAAU,4BAC1B,cAAC,IAAD,CAAWA,UAAU,mBACVe,QAASoJ,OAG5B,wBAAOnK,UAAU,mBAAjB,UACI,gCACA,+BACI,4EACA,8FACA,gHAGJ,yCAEIuE,QAFJ,IAEIA,GAFJ,UAEIA,EAAOhG,YAFX,aAEI,EAAaoD,KAAI,SAAC1C,EAAKmL,GAAN,OACb,+BACI,6BAAKnL,EAAKK,OACV,6BAAKL,EAAKP,WACV,+BAAK0C,OAAOnC,EAAKN,OAAOmC,QAAQ,GAAhC,sBAHKsJ,MAQjB,qBAAIpK,UAAU,aAAd,UACI,2GACA,kFACA,kGAEJ,qBAAIA,UAAU,qBAAd,UACI,oBAAIA,UAAU,0BAAd,SAxCa,SAACpC,GAC1B,IAAIC,EAAa,EAIjB,OAHAD,EAASY,SAAQ,SAAAC,GACbZ,GAAcY,EAAQE,MAAQF,EAAQC,YAEnCb,EAAWiD,QAAQ,GAAK,iBAmCsBuJ,CAAqB9F,EAAMhG,QACpE,qBAAIyB,UAAU,0BAAd,UAAyCoB,OAAOmD,EAAMR,UAAUjD,QAAQ,GAAxE,oBACA,qBAAId,UAAU,0BAAd,UAAyCoB,OAAOmD,EAAM1G,YAAYiD,QAAQ,GAA1E,6BAKJyD,EAAMgB,YACA,0BAASvF,UAAU,8BAAnB,UACE,mBAAGA,UAAU,oBAAb,mIACA,4BAAIuE,EAAMgB,iBAEZ,SCOP+E,OA5Df,YAA+B,IAAPtL,EAAM,EAANA,KAAM,EAEIwF,oBAAS,GAFb,mBAEpB+F,EAFoB,KAEXC,EAFW,OAGYhG,wBAAS/H,GAHrB,mBAGpBgO,EAHoB,KAGPC,EAHO,KAKpBC,EAAiB,SAACpG,GACpB,IAAIA,EAGC,OAFAiG,GAAY,SAAAjC,GAAI,OAAKA,UACrBmC,GAAgB,SAAAnC,OAGrBiC,GAAY,SAAAjC,GAAI,OAAKA,KACrBmC,GAAgB,SAAAnC,GAAI,OAAIhE,MAI5B,OACI,0BAASvE,UAAU,iBAAnB,UAEgC,KAApB,OAAJhB,QAAI,IAAJA,OAAA,EAAAA,EAAM4L,OAAO3M,QACP,gNACC,wBAAO+B,UAAU,cAAjB,UACC,gCACA,+BACI,0DACA,gEACA,4EACA,+FACA,uFAGJ,uCAEIhB,QAFJ,IAEIA,OAFJ,EAEIA,EAAM4L,OAAOhD,MAAK,SAACC,EAAEC,GAAH,OAAShC,KAAKiC,MAAMD,EAAEjC,MAAQC,KAAKiC,MAAMF,EAAEhC,SAAOlE,KAAI,SAAA4C,GAAK,OACzE,+BACI,6BAAKA,EAAMsB,OACX,6BAAKtB,EAAMV,QAAQD,WACnB,6BAAKW,EAAMW,UACX,+BAAK9D,OAAOmD,EAAM1G,YAAYiD,QAAQ,GAAtC,oBACA,6BAAI,cAAC,IAAD,CACAd,UAAU,YACVe,QAAS4J,EAAe3J,KAAK,KAAKuD,GAClCiF,SAAUe,QARThG,EAAMpB,aAmB/BoH,EACM,cAAC,GAAD,CAAehG,MAAOkG,EAAcN,aAAcQ,IAClD,SC4BPE,GA/EC,SAAC,GAA6C,IAA5C7L,EAA2C,EAA3CA,KAAMuC,EAAqC,EAArCA,QAASC,EAA4B,EAA5BA,MAAOO,EAAqB,EAArBA,gBAC9B2H,EAAyB,SAAC5F,EAAK1F,GACjCY,EAAK6E,QAAQjE,OAAOxB,EAAK,GACzB1B,EAAYa,aAAa,CAACuN,cAAehH,IACzCvC,EAAQvC,IAGN2K,EAA8B,SAACoB,EAAYC,EAAW5M,GACxDY,EAAK6E,QAAQjE,OAAOxB,EAAK,EAAG4M,GAC5BtO,EAAYa,aAAa,CAACuN,cAAeC,IACzCrO,EAAYa,aAAa,CAAC0G,WAAY+G,IACtCzJ,EAAQvC,IAEZ,OAEI,yBAASgB,UAAU,UAAnB,SAEQhB,EACM,qCACE,yBAASgB,UAAU,iBAAnB,SACI,sBAAKA,UAAU,qBAAf,UACI,cAAC,IAAD,CACIC,GAAIuB,EAAMyJ,IACV7K,OAAK,EACLC,gBAAgB,YAHpB,2EAMA,cAAC,IAAD,CACIJ,GAAIuB,EAAMyJ,IAAM,WAChB7K,OAAK,EACLC,gBAAgB,YAHpB,iFAMA,cAAC,IAAD,CACIJ,GAAIuB,EAAMyJ,IAAM,UAChB7K,OAAK,EACLC,gBAAgB,YAHpB,4FASR,0BAASL,UAAU,kBAAnB,UACI,yBAASA,UAAU,uBAAnB,SACI,cAAC,IAAD,CAAQA,UAAU,mBAEtB,eAAC,KAAD,WACI,cAAC,KAAD,CAAO/D,KAAK,WAAWmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OACjC,cAAC,GAAD,2BAAiBA,GAAjB,IACaf,KAAMA,EACNuC,QAASA,EACTQ,gBAAiBA,QAGlC,cAAC,KAAD,CAAO9F,KAAK,mBAAmBmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OACzC,cAAC,GAAD,2BAAoBA,GAApB,IACgBf,KAAMA,EACNuC,QAASA,EACTQ,gBAAiBA,EACjB2H,uBAAwBA,EACxBC,4BAA6BA,QAGjD,cAAC,KAAD,CAAO1N,KAAK,kBAAkBmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OACxC,cAAC,GAAD,2BAAmBA,GAAnB,IAA0Bf,KAAMA,iBAK9C,QCsFPmM,G,kDA1IX,WAAYpL,GAAQ,IAAD,8BACf,cAAMA,IACDqL,MAAQ,CACTrI,KAAM,GACNsI,iBAAa5O,EACb8F,aAAc,CACVD,QAAS,GACTE,KAAM,KAGd,EAAKjB,QAAU,EAAKA,QAAQP,KAAb,gBACf,EAAKvD,YAAc,EAAKA,YAAYuD,KAAjB,gBACnB,EAAKe,gBAAkB,EAAKA,gBAAgBf,KAArB,gBAZR,E,qDAenB,WAAqB,IAAD,OAChBpC,EAAYC,eACP/B,MAAK,SAAAgC,GACF,EAAKwM,UAAS,SAAAF,GAAK,kCAASA,GAAT,IAAgBrI,KAAMjE,UAC1C7B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,MAClCR,EAAYe,cACPX,MAAK,SAAAkC,GACEA,GACA,EAAKsM,UAAS,SAACF,GAAD,MAAY,CAACC,YAAarM,EAAKsD,aAAU7F,EAAYuC,SAExE/B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,Q,qBAGtC,SAAQ8B,GACJ,OAAOuM,KAAKD,UAAS,SAACF,GAAD,mBAAC,eAEXA,GAFU,IAGbC,YAAarM,S,6BAKzB,SAAgBuD,GACZ,OAAOgJ,KAAKD,UAAS,SAACF,GAAD,mBAAC,eAEXA,GAFU,IAGb7I,sB,yBAKZ,WAAe,IAAD,OACV7F,EAAYe,cACPX,MAAK,SAAAkC,GACF7B,QAAQqO,IAAIxM,GACZ,EAAKsM,UAAS,SAACF,GAAD,mBAAC,eAAeA,GAAhB,IAAuBC,YAAarM,UACnD/B,OAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAMF,Q,oBAGtC,WAAU,IAAD,OACL,OACI,sBAAK8C,UAAU,MAAf,UACI,cAAC,EAAD,CAAQhB,KAAMuM,KAAKH,MAAMC,cAErBE,KAAKH,MAAM7I,aAAaD,QAClB,cAAC,GAAD,CACEC,aAAcgJ,KAAKH,MAAM7I,aACzBR,gBAAiBwJ,KAAKxJ,kBAExB,KAEV,sBAAM/B,UAAU,WAAhB,SACI,eAAC,KAAD,WAEI,cAAC,KAAD,CAAO/D,KAAK,IAAImE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAC1B,cAAC,EAAD,2BAAUA,GAAV,IACMgD,KAAM,EAAKqI,MAAMrI,KACjB/D,KAAM,EAAKoM,MAAMC,YACjB9J,QAAS,EAAKA,QACdQ,gBAAiB,EAAKA,sBAIhC,cAAC,KAAD,CAAO9F,KAAK,YAAYmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAClC,cAAC,EAAD,2BAAcA,GAAd,IACUgC,gBAAiB,EAAKA,sBAIpC,cAAC,KAAD,CAAO9F,KAAK,SAASmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAC/B,cAAC,EAAD,2BAAWA,GAAX,IACOwB,QAAS,EAAKA,QACdQ,gBAAiB,EAAKA,sBAIjC,cAAC,KAAD,CAAO9F,KAAK,WAAWiP,OAAQ,SAACnL,GAAD,OAC3B,cAAC,GAAD,2BAAaA,GAAb,IACSf,KAAM,EAAKoM,MAAMC,YACjB9J,QAAS,EAAKA,QACdQ,gBAAiB,EAAKA,sBAKnC,cAAC,KAAD,CAAO9F,KAAK,UAAUmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAChC,cAAC0L,EAAD,2BAAY1L,GAAZ,IAAmBwB,QAAS,EAAKA,cAGrC,cAAC,KAAD,CAAOtF,KAAK,QAAQmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAC9B,cAAC,EAAD,2BAAUA,GAAV,IACMwB,QAAS,EAAKA,QACdvC,KAAM,EAAKoM,MAAMC,YACjBtJ,gBAAiB,EAAKA,sBAIhC,cAAC,KAAD,CAAO9F,KAAK,SAASmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAC/B,cAAC,EAAD,2BAAWA,GAAX,IACOwB,QAAS,EAAKA,QACdvC,KAAM,EAAKoM,MAAMC,YACjBtJ,gBAAiB,EAAKA,sBAIjC,cAAC,KAAD,CAAO9F,KAAK,SAASmE,OAAK,EAAC8K,OAAQ,SAACnL,GAAD,OAC/B,cAAC,EAAD,2BAAWA,GAAX,IACOwB,QAAS,EAAKA,QACdvC,KAAM,EAAKoM,MAAMC,YACjBtJ,gBAAiB,EAAKA,sBAGjC,cAAC,KAAD,CAAO9F,KAAK,YAAYmE,OAAK,EAACsL,UAAW1F,IACzC,cAAC,KAAD,CAAO/J,KAAK,SAASmE,OAAK,EAACsL,UAAWC,IACtC,cAAC,KAAD,CAAO1P,KAAK,cAAcmE,OAAK,EAACsL,UAAWE,UAGnD,cAAC,EAAD,W,GArIEC,aCbHC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlP,MAAK,YAAkD,IAA/CmP,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASpB,OACR,cAAC,IAAMqB,WAAP,UACC,cAAC,IAAD,UACC,cAAC,GAAD,QAGFC,SAASC,eAAe,SAMzBX,Q","file":"static/js/main.791dd9df.chunk.js","sourcesContent":["const environments = {\n\tregions:{\n\t\tsmolyan: 0.5,\n\t\traykovo: 1.5,\n\t\tustovo: 1.5,\n\t\tkaptaja: 1.5\n\t},\n    mapBgRegions : {\n        smolyan: 'Смолян',\n        raykovo: 'Райково',\n        ustovo: 'Устово',\n        kaptaja: 'Каптажа'\n    }\n};\n\nexport default environments;\n","export function fetchWithCredentials(path,method,body) {\n    return fetch(path, {\n        method: method,\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        credentials: \"include\",\n        body: body ? JSON.stringify(body) : undefined\n    })\n}\n\nexport function debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n};","import environments from \"../environments\";\nimport {fetchWithCredentials} from \"../helpers\";\n\nconst userService = {\n\n    login: ( username, password ) => {\n        const fullPath ='user/login';\n        return fetchWithCredentials(fullPath,'POST',{username,password})\n            .then(res => res.json())\n            .catch(err => console.error(err))\n\n    },\n    register: (newUser) => {\n        const fullPath ='user/register';\n        return fetchWithCredentials(fullPath,'POST',newUser)\n            .then(res => res.json())\n            .catch(err => console.error(err))\n\n    },\n    editUserData: (data) => {\n        const fullPath ='user/profile';\n        return fetchWithCredentials(fullPath,'PUT',data)\n            .then(res => res.json())\n            .catch(console.error)\n    },\n    getUserInfo: () => {\n        const fullPath ='user/profile';\n        return fetchWithCredentials(fullPath,'GET')\n            .then(res => res.json())\n            .catch(err => console.error(err));\n    },\n    logout: () => {\n        const fullPath ='user/logout';\n        return fetchWithCredentials(fullPath,'POST')\n            .then(res => res.json())\n            .catch(console.error)\n    }\n};\n\nexport default userService;\n","import environments from \"../environments\";\nimport {fetchWithCredentials} from '../helpers'\n\nimport userService from \"./userService\";\n\nconst initialCart = {\n\tproducts:[],\n\ttotalPrice:0\n}\n\nfunction objectsEqual(o1, o2){\n\treturn typeof o1 === 'object' && Object.keys(o1).length > 0\n\t\t? Object.keys(o1).length === Object.keys(o2).length\n\t\t&& Object.keys(o1).every(p => this.objectsEqual(o1[p], o2[p]))\n\t\t: o1 === o2;\n}\nfunction arraysEqual(arr1, arr2){\n\treturn arr1.length === arr2.length && arr1.every((o, idx) => this.objectsEqual(o, arr2[idx]));\n}\nfunction calculateCartTotalPrice(cart){\n\tcart.totalPrice = 0;\n\tcart.products.forEach((product) => {\n\t\tcart.totalPrice += product.quantity * product.price;\n\t});\n\treturn cart.totalPrice;\n}\n\nconst foodService = {\n\tgetDailyMenu: function() {\n\t\tconst fullPath =\"dishes/\";\n\t\treturn fetch(fullPath).then((dishes) => dishes.json()).catch((err) => console.error(err));\n\t},\n\taddToCart: function (user,item,addOrSubtract) {\n\t\tconst cart = user.cart;\n\t\tconst exist = cart.products?.find((prod) =>\n\t\t\tprod.name === item.name\n\t\t\t&& prod.price === item.price\n\t\t\t&& arraysEqual(prod.selected_options, item.selected_options));\n\t\tif (exist) {\n\t\t\tif(!addOrSubtract) {\n\t\t\t\texist.quantity += 1;\n\t\t\t}else {\n\t\t\t\tif(exist.quantity === 0) {\n\t\t\t\t\texist.quantity ++;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\titem.quantity = 1;\n\t\t\tcart.products = cart.products ? cart.products.concat(item) : [item];\n\t\t}\n\t\tcart.totalPrice = calculateCartTotalPrice(cart);\n\t\treturn userService.editUserData({cart});\n\t},\n\tremoveItemFromCart: function (user,item) {\n\t\tconst index = user.cart?.products?.findIndex(prod =>\n\t\t\tprod.name === item.name\n\t\t\t&& prod.price === item.price\n\t\t\t&& arraysEqual(prod.selected_options, item.selected_options)\n\t\t)\n\t\tuser.cart?.products?.splice(index,1);\n\t\tuser.cart.totalPrice = calculateCartTotalPrice(user.cart)\n\t\treturn userService.editUserData({cart: user.cart});\n\t},\n\tclearCart: () => {\n\t\treturn userService.editUserData({cart: initialCart})\n\t},\n};\n\nexport default foodService;","import \"./Header.css\";\nimport {NavLink, Link} from \"react-router-dom\";\nimport {FaUser, FaShoppingCart} from 'react-icons/fa';\nimport {FiLogOut} from 'react-icons/fi';\n\nfunction Header(props) {\n    const {user} = props;\n    return (\n        <article className=\"container-header\">\n            <article className=\"container-left\">\n                <Link to=\"/\">\n                    <img src=\"foodDelivery-icon.png\" alt=\"site-logo\" className=\"logo\"/>\n                </Link>\n            </article>\n\n            <article className=\"container-middle\">\n                <nav className=\"nav-bar\">\n                    <ul>\n                        <li>\n                            <NavLink to=\"/\"\n                                     exact\n                                     activeClassName=\"is-active\">\n                                Обедно меню\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink to=\"/about\"\n                                     exact\n                                     activeClassName=\"is-active\">\n                                За нас\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink to=\"/conditions\"\n                                     exact\n                                     activeClassName=\"is-active\"\n                            >\n                                Условия\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink to=\"/posts\"\n                                     exact\n                                     activeClassName=\"is-active\">\n                                Мнения\n                            </NavLink>\n                        </li>\n                        <li>\n                            <NavLink to=\"/contacts\"\n                                     exact\n                                     activeClassName=\"is-active\">\n                                Контакти\n                            </NavLink>\n                        </li>\n                    </ul>\n                </nav>\n            </article>\n\n            <article className=\"container-right\">\n                <article className=\"user-bar\">\n                    {\n                        user?.username\n                            ? (\n                                <ul>\n                                    <li>\n                                        <NavLink to=\"/profile\" className=\"user-bar-username-wrapper\">\n                                            <p className=\"user-bar-username\">{user?.username}</p>\n                                            <FaUser/>\n                                        </NavLink>\n                                    </li>\n                                    <li>\n                                        <Link to=\"/cart\">\n                                            <FaShoppingCart/>\n                                        </Link>\n                                    </li>\n                                    <li>\n                                        <Link to=\"/logout\">\n                                            <FiLogOut/>\n                                        </Link>\n                                    </li>\n                                </ul>\n                            )\n                            : (\n                                <ul>\n                                    <li>\n                                        <NavLink to=\"/login\" exact\n                                                 activeClassName=\"is-active\">\n                                            Вход\n                                        </NavLink>\n                                    </li>\n                                    <li>\n                                        <NavLink to=\"/register\"\n                                                 exact\n                                                 activeClassName=\"is-active\"\n                                        >Регистрация\n                                        </NavLink>\n                                    </li>\n                                </ul>\n                            )\n                    }\n\n                </article>\n            </article>\n        </article>\n    );\n}\n\nexport default Header;\n","import \"./Footer.css\";\nimport {Link} from 'react-router-dom'\n\nfunction Footer(props) {\n\treturn (\n\t\t<section className=\"footer\">\n            <nav className='footer-nav-bar'>\n\n                <ul>\n                    <li>\n                        <Link to=\"/\">Меню</Link>\n                    </li>\n\n                    <li>\n                        <Link to=\"/about\">За нас</Link>\n                    </li>\n                    <li>\n                        <Link to=\"/conditions\">Условия</Link>\n                    </li>\n                    <li>\n                        <Link to=\"/posts\">Мнения</Link>\n                    </li>\n                    <li>\n                        <Link to=\"/contacts\">Контакти</Link>\n                    </li>\n                </ul>\n\n            </nav>\n\n            <article className=\"footer-icons\">\n                <img height=\"40\" src=\"https://shoplineimg.com/assets/footer/card_visa.png\"/>\n                <img height=\"40\" src=\"https://shoplineimg.com/assets/footer/card_master.png\"/>\n                <img height=\"40\" src=\"https://shoplineimg.com/assets/footer/card_paypal.png\"/>\n            </article>\n\n\t\t\t<h5>Food Delivery &copy; 2021</h5>\n\t\t</section>\n\t);\n}\n\nexport default Footer;\n","import \"./DishItem.css\";\n\nfunction DishItem(props) {\n    const {dish, addToCart, isLogged} = props;\n    return (\n        <article className=\"dish\">\n            <img src={dish.img} alt=\"dish img\"/>\n            <article className=\"dish-content\">\n                <h3>{dish.name}</h3>\n                <ul className=\"products\">\n                    <p>Продукти: {dish.products.join(\", \")}</p>\n                </ul>\n                <p>{dish.weight} гр.</p>\n            </article>\n\n            <article className=\"dish-buy\">\n                <article className=\"dish-buy-options\"/>\n                <article className=\"dish-buy-order\">\n                    <h3 className=\"price\">{dish.price.toFixed(2)} лв.</h3>\n                    {\n                        isLogged\n                            ? <button className=\"price-btn\" onClick={addToCart.bind(null, dish)}>Добави</button>\n                            : null\n                    }\n                </article>\n            </article>\n        </article>\n    );\n}\n\nexport default DishItem;\n","import './CartItem.css';\nimport {IoIosArrowUp, IoIosArrowDown,IoIosBackspace} from 'react-icons/io';\n\nfunction CartItem({item, onChangeItemQuantity, onRemoveItem}) {\n\n    return (\n        <>\n            {\n                item ? (<article className=\"cart-item\">\n                        <h5 className=\"cart-item-title\">\n                            {item.name}\n                        </h5>\n                        <article className=\"cart-item-quantity\">\n                            <article className=\"cart-item-quantity-icons\">\n                                <IoIosArrowUp className=\"item-quantity-up\" onClick={onChangeItemQuantity.bind(null,item,\"add\")}/>\n                                <IoIosArrowDown className=\"item-quantity-down\" onClick={onChangeItemQuantity.bind(null,item,\"subtract\")}/>\n                            </article>\n                            <p> <strong>{item.quantity}</strong> * <i>{Number(item.price).toFixed(2)}</i> лв. =</p>\n                            <p className=\"item-total-price\">\n                                {Number(item.quantity * item.price).toFixed(2)} лв.\n                            </p>\n                            <IoIosBackspace\n                                className=\"cart-item-remove-icon\"\n                                label=\"Remove dish\"\n                                onClick={onRemoveItem.bind(null, item)}\n                            />\n                        </article>\n                    </article>)\n                    : <p>Loading...</p>\n            }\n        </>\n    )\n}\n\nexport default CartItem;","import './Cart.css';\nimport {FiShoppingCart} from 'react-icons/fi';\nimport {BsTrash} from 'react-icons/bs';\nimport CartItem from \"./CartItem/CartItem\";\nimport foodService from \"../../services/foodService\";\nimport {Link} from 'react-router-dom'\n\nfunction Cart(props) {\n    const {user, setUser, match} = props;\n    const onChangeItemQuantity = (item, action) => {\n        action === 'add' ? item.quantity++ : item.quantity--;\n        foodService.addToCart(user, item, action)\n            .then(user => setUser(user))\n            .catch(console.error);\n    }\n\n    const clearCart = () => {\n        foodService.clearCart()\n            .then(user => setUser(user))\n            .catch(console.error);\n    }\n\n    const onRemoveItemHandler = (dish) => {\n        foodService.removeItemFromCart(user, dish)\n            .then(user => setUser(user))\n            .catch(console.error);\n    }\n    return (\n        <section className=\"cart\">\n            <article className=\"cart-icon-wrapper\">\n                <FiShoppingCart className=\"cart-icon\"/>\n                <BsTrash className=\"cart-trash-icon\" onClick={clearCart}/>\n            </article>\n            {\n                user?.cart?.products?.length > 0\n                    ?\n                    <article className=\"cart-dishes\">\n                        <ul>\n                            {\n                                user?.cart?.products.map(item => (\n                                    <li key={item?.name}>\n                                        <CartItem item={item}\n                                                  onChangeItemQuantity={onChangeItemQuantity}\n                                                  onRemoveItem={onRemoveItemHandler}\n                                        />\n                                    </li>\n                                ))\n                            }\n                        </ul>\n                        <article className=\"cart-summary\">\n                            <p className=\"cart-summary-text\">Общо</p>\n                            <article className=\"cart-summary-ctrl\">\n                                <p className=\"cart-total-price\">\n                                    {Number(user?.cart?.totalPrice).toFixed(2)} лв.\n                                </p>\n\n                                {\n                                    !match.path.includes('order')\n                                        ? <Link to=\"order\" >\n                                            <button className=\"cart-summary-btn\">Поръчай</button>\n                                        </Link>\n                                        : null\n                                }\n                            </article>\n\n                        </article>\n\n                    </article>\n                    : <p>Няма добавени продукти...</p>\n            }\n\n        </section>\n    )\n}\n\nexport default Cart;\n\n\n// <a *ngIf=\"(user$ | async).cart.products.length > 0\" routerLink=\"/cart\" class=\"cart-badge\">{{(user$ | async).cart.products.length}}</a>\n// <i class=\"fas fa-shopping-cart fa-2x\"></i>\n// <ng-container *ngTemplateOutlet=\" orderDetails ? details : cartProducts\"></ng-container>\n// <p class=\"empty-cart\" *ngIf=\"(user$ | async).cart.products.length === 0 && !orderCompleted\">Няма добавени продукти...</p>\n// <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"orderCompleted\">\n// <p>Вашата поръчка е приета.</p>\n// <p>Благодарим ви!</p>\n// <i class=\"fas fa-check-circle fa-5x\"></i>\n// </div>\n","import './Login.css';\nimport {FiLogIn} from \"react-icons/fi\";\nimport userService from \"../../services/userService\";\nimport { Link } from 'react-router-dom'\nimport {useEffect} from \"react\";\n\nconst Login = ({setUser, history, setNotification,...props}) => {\n\n    useEffect(() => {\n        return () => setNotification({});\n    },[]);\n\n    const onSubmitLoginHandler = (e) => {\n        e.preventDefault();\n        const username = e.target.username.value;\n        const password = e.target.password.value;\n        userService.login(username,password)\n            .then(res => {\n                if(res.message) {\n                    const notification = {\n                        message: res.message,\n                        type: 'error'\n                    };\n                    setNotification(notification);\n                }else {\n                    setNotification({});\n                    setUser(res)\n                    history.push('/')\n                }\n            })\n            .catch(console.error)\n    }\n\n    return (\n        <section className=\"login\">\n            <FiLogIn className=\"login-icon\" />\n            <article className=\"login-form\">\n                <form onSubmit={onSubmitLoginHandler}>\n                    <label htmlFor=\"username\">\n                        <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"Потребителско име\" required={true}/>\n                    </label>\n                    <label htmlFor=\"password\">\n                        <input type=\"password\" placeholder=\"Парола\" name=\"password\" id=\"password\" required={true}/>\n                    </label>\n                    <button className=\"login-form-btn\">Влез</button>\n                    <Link to=\"/register\" className=\"login-form-to-register\">Регистрация</Link>\n                </form>\n            </article>\n        </section>\n    )\n}\nexport default Login;\n","import \"./Menu.css\";\nimport DishItem from \"./DishItem/DishItem\";\nimport Cart from \"../Cart/Cart\";\nimport foodService from \"../../services/foodService\";\nimport Login from \"../Login/Login\";\n\nfunction Menu(props) {\n    const {menu, user, setUser, match, history,setNotification} = props;\n    const addToCart = (dish) => {\n        foodService.addToCart(user, dish)\n            .then(user => {\n                setUser(user);\n            })\n            .catch(console.error)\n    }\n\n    return (\n        <section className=\"menu\">\n            <article className=\"food-list\">\n                <article className=\"salads\">\n                    <h2 className=\"food-list-title\">Салати</h2>\n                    <ul>\n                        {menu?.filter((d) => d.category === \"salad\").map((d) => (\n                            <li key={d._id}>\n                                <DishItem dish={d} addToCart={addToCart} isLogged={!!user}/>\n                            </li>\n                        ))}\n                    </ul>\n                </article>\n                <article className=\"soups\">\n                    <h2 className=\"food-list-title\">Супи</h2>\n                    <ul>\n                        {menu?.filter((d) => d.category === \"soup\").map((d) => (\n                            <li key={d._id}>\n                                <DishItem dish={d} addToCart={addToCart} isLogged={!!user}/>\n                            </li>\n                        ))}\n                    </ul>\n                </article>\n                <article className=\"main-dishes\">\n                    <h2 className=\"food-list-title\">Основни ястия</h2>\n                    <ul>\n                        {menu?.filter((d) => d.category === \"main\").map((d) => (\n                            <li key={d._id}>\n                                <DishItem dish={d} addToCart={addToCart} isLogged={!!user}/>\n                            </li>\n                        ))}\n                    </ul>\n                </article>\n                <article className=\"deserts\">\n                    <h2 className=\"food-list-title\">Десерти</h2>\n                    <ul>\n                        {menu?.filter((d) => d.category === \"desert\").map((d) => (\n                            <li key={d._id}>\n                                <DishItem dish={d} addToCart={addToCart} isLogged={!!user}/>\n                            </li>\n                        ))}\n                    </ul>\n                </article>\n                <article className=\"drinks\">\n                    <h2 className=\"food-list-title\">Напитки</h2>\n                    <ul>\n                        {menu?.filter((d) => d.category === \"drink\").map((d) => (\n                            <li key={d._id}>\n                                <DishItem dish={d} addToCart={addToCart} isLogged={!!user}/>\n                            </li>\n                        ))}\n                    </ul>\n                </article>\n            </article>\n            {\n                user\n                    ? <Cart user={user} setUser={setUser} match={match}/>\n                    : <Login setUser={setUser} history={history} setNotification={setNotification}/>\n            }\n        </section>\n    );\n}\n\nexport default Menu;\n","import './Register.css';\nimport {FiUserPlus} from 'react-icons/fi'\nimport userService from \"../../services/userService\";\nimport {useEffect} from \"react\";\n\nconst Register = ({history, setNotification}) => {\n    const invalidInput = false;\n    useEffect(() => {\n        return () => setNotification({});\n    },[])\n\n    const onSubmitRegisterHandler = (e) => {\n        e.preventDefault();\n        const newUser = {\n            username: e.target.username.value,\n            phone: e.target.phone.value,\n            email: e.target.email.value,\n            password: e.target.password.value,\n            repeatPassword: e.target.repeatPassword.value\n        }\n        userService.register(newUser)\n            .then(res => {\n                if(res.message !== 'Successful registration') {\n                    const notification = {\n                        message: res.message,\n                        type: 'error'\n                    }\n                    setNotification(notification);\n                }else {\n                    const notification = {\n                        message: 'Успешна регистрация!',\n                        type: 'success'\n                    }\n                    setNotification(notification);\n                    history.push('/login')\n                }\n            })\n            .catch(console.error)\n    }\n\n\n\n    return (\n        <section className=\"register\">\n            <FiUserPlus className=\"register-icon\" />\n            <article className=\"register-form\">\n                <form onSubmit={onSubmitRegisterHandler}>\n                    <label htmlFor=\"username\">\n                        <input type=\"text\"  name=\"username\" id=\"username\" placeholder=\"Потребителско име\" required={true}/>\n                    </label>\n                    <label htmlFor=\"phone\">\n                        <input type=\"text\" placeholder=\"Телефон\" name=\"phone\" id=\"phone\" required={true}/>\n                    </label>\n                    <label htmlFor=\"email\">\n                        <input type=\"email\" placeholder=\"Електронна поща\" name=\"email\" id=\"email\" required={true}/>\n                    </label>\n                    <label htmlFor=\"password\">\n                        <input type=\"password\" placeholder=\"Парола\" name=\"password\" id=\"password\" required={true}/>\n                    </label>\n                    <label htmlFor=\"repeatPassword\">\n                        <input type=\"password\" placeholder=\"Повторете паролата\" name=\"repeatPassword\" id=\"repeatPassword\" required={true}/>\n                    </label>\n                    <button className=\"register-form-btn\">Регистрирай ме</button>\n                </form>\n            </article>\n        </section>\n    );\n}\n\nexport default Register;\n","import userService from \"../../services/userService\";\n\nexport default ({history,setUser}) => {\n    userService.logout()\n        .then(() => {\n            setUser(undefined);\n            history.push('/')\n        })\n        .catch(console.error)\n\n    return (\n        null\n    )\n}","import './AddNewAddressForm.css';\nimport environments from \"../../../environments\";\nimport userService from \"../../../services/userService\";\n\nconst mapRegions = environments.regions;\nconst mapBgRegions = environments.mapBgRegions;\n\nfunction AddNewAddressForm({user,setUser,toggleNewAddressForm}) {\n\n    const addUserNewAddress = (e) => {\n        e.preventDefault();\n        const region = e.target.region?.value;\n        const location = e.target.location?.value;\n        const exist = user?.address?.find(adr => adr.location === location);\n        if(region && location && ! exist) {\n            const delivery = mapRegions[region];\n            const newAddress = {region, location, delivery}\n            userService.editUserData({addAddress: newAddress})\n                .then(user => setUser(user))\n                .then(() => toggleNewAddressForm())\n                .catch(console.error)\n        }\n    };\n\n\n    return (\n        <article className=\"add-new-address\">\n            <p>Добавяне на нов адрес</p>\n            <form className=\"add-new-address-form\" onSubmit={addUserNewAddress}>\n                <label htmlFor=\"region\">Регион</label>\n                <select name=\"region\" id=\"region\">\n                    {\n                        Object.keys(mapRegions).map(key => (\n                            <option value={key} key={key}>{mapBgRegions[key]}</option>\n                        ))\n                    }\n                </select>\n                <label htmlFor=\"add-new-address\">Адрес</label>\n                <input type=\"text\" name=\"location\" id=\"add-new-address\"/>\n                <article className=\"add-new-address-form-ctrl\">\n                    <button type=\"button\" className=\"close-new-address-btn\"\n                            onClick={toggleNewAddressForm}>Затвори\n                    </button>\n                    <input type=\"submit\" className=\"confirm-new-address-btn\" value=\"Добави\"/>\n                </article>\n            </form>\n        </article>\n    )\n}\n\nexport default AddNewAddressForm;\n","import './OrderAddress.css';\nimport userService from \"../../../services/userService\";\nimport environments from \"../../../environments\";\nimport {useState, useEffect} from 'react';\nimport AddNewAddressForm from '../../Profile/AddNewAddressForm/AddNewAddressForm';\n\nconst mapBgRegions = environments.mapBgRegions;\nconst OrderAddress = ({user, order, setOrder, setUser}) => {\n\n    const [viewNewAddress, setViewNewAddress] = useState(false);\n\n    const toggleNewAddressForm = () => {\n        setViewNewAddress(prevState => !prevState);\n    };\n\n    useEffect(() => {\n        if(user?.address.length > 0) {\n            setOrder(prevState => ({...prevState,address: user.address[0]}))\n        }\n    },[user]);\n\n    const onSelectAddressHandler = (e) => {\n        const selectedLocation = e.target.value;\n        const selected = user?.address?.find(adr => adr.location === selectedLocation)\n        if(selected) {\n            const {region,location,delivery} = selected;\n            setOrder(prevState => ({...prevState, address: {region, location, delivery}}))\n        }\n    }\n    return (\n        <article className=\"order-address\">\n            <h3>Изберете адрес</h3>\n            {\n                viewNewAddress\n                    ? <AddNewAddressForm user={user} setUser={setUser} toggleNewAddressForm={toggleNewAddressForm}/>\n                    : <article className=\"my-address\">\n                        <form className=\"my-address-form\" onChange={onSelectAddressHandler}>\n                            <p>Моите адреси:</p>\n                            <select name=\"address\" id=\"address\">\n                                {\n                                    user?.address.map(adr => (\n                                        <option key={adr.location} value={adr.location}>{adr.location}, {mapBgRegions[adr.region]}</option>\n                                    ))\n                                }\n                            </select>\n                        </form>\n                        <button className=\"add-new-address-btn\" onClick={toggleNewAddressForm}>Добави нов адрес</button>\n                    </article>\n\n            }\n\n        </article>\n    )\n}\nexport default OrderAddress;\n","import './OrderPayment.css';\nconst OrderPayment = ({setOrder}) => {\n    const selectedPaymentHandler = (e) => {\n        const paymentMethod = e.target.value;\n        setOrder(prevState => ({...prevState, payment: paymentMethod}))\n    }\n    return (\n        <article className=\"order-payment\">\n            <h3>Начин на плащане</h3>\n            <form className=\"payment-select\">\n                <label htmlFor=\"cash\">Кеш</label>\n                <input type=\"radio\" id=\"cash\" name=\"payment\" value=\"cash\" onChange={selectedPaymentHandler} />\n                <label htmlFor=\"cash\">С карта</label>\n                <input type=\"radio\" id=\"card\" name=\"payment\" value=\"card\" onChange={selectedPaymentHandler} />\n            </form>\n        </article>\n    )\n}\nexport default OrderPayment;","import './OrderDescription.css';\n\nconst OrderDescription = ({order,setOrder}) => {\n    const onBlurOrderDescription = (e) => {\n        const description = e.target.value;\n        setOrder(prevState => ({...prevState, description}))\n    }\n    return (\n        <article className=\"order-description\">\n            <h5 className=\"order-description-title\">\n                Бележка към поръчката\n            </h5>\n            <textarea name=\"description\" id=\"order-description\" cols=\"30\" rows=\"10\" onBlur={onBlurOrderDescription}></textarea>\n        </article>\n    )\n}\n\nexport default OrderDescription;","import './Order.css';\nimport Cart from \"../Cart/Cart\";\nimport OrderAddress from \"./OrderAddress/OrderAddress\";\nimport OrderPayment from \"./OrderPayment/OrderPayment\";\nimport {useState,useEffect} from 'react'\nimport OrderDescription from \"./OrderDescription/OrderDescription\";\nimport environments from \"../../environments\";\nimport userService from \"../../services/userService\";\n\nfunction Order({user, setUser, match,history,setNotification}) {\n    const [order,setOrder] = useState({cart:user?.cart});\n    const [delivery, setDelivery] = useState(0.5);\n\n    useEffect(() => {\n        if(Number(user?.cart?.totalPrice) >= 10) {\n            setDelivery(0.5);\n        }else {\n            const deliveryPerRegion = Number(environments.regions[order?.address?.region]);\n            if(!isNaN(deliveryPerRegion)) {\n                setDelivery(deliveryPerRegion);\n            }\n        }\n    },[user, order?.address]);\n\n\n    const onSubmitOrderHandler = () => {\n\n        const newOrder = {\n            cart:order?.cart?.products,\n            address: {region:order?.address?.region, location: order?.address?.location},\n            delivery: delivery,\n            totalPrice:order?.cart?.totalPrice + delivery,\n            description:order.description || '',\n            payment: order?.payment,\n            date: new Date().toLocaleString()\n        };\n        const validOrder = newOrder.cart && newOrder.address.location && newOrder.address.region && newOrder.delivery && newOrder.totalPrice && newOrder.payment;\n        if(validOrder) {\n            userService.editUserData({order:newOrder})\n                .then(user =>  {\n                    user.cart = {};\n                    setUser(user);\n                    const notification = {\n                        message:'Благодарим ви за поръчката!',\n                        type: 'success'\n                    }\n                    setNotification(notification)\n                })\n                .then(() => history.push('/'))\n                .catch(console.error);\n        }else {\n            const notification = {\n                message: 'Моля, въведете адрес и начин на плащане!',\n                type: 'error'\n            }\n            setNotification(notification)\n        }\n\n    }\n    useEffect(() => {\n        setOrder(prevState => ({...prevState, cart:user?.cart}))\n    },[user?.cart?.products]);\n\n    return (\n        <section className=\"finish-order\">\n            <article className=\"finish-order-details\">\n                {\n                    user?.cart?.products?.length > 0\n                        ? <>\n                            <Cart user={user} setUser={setUser} match={match}/>\n                            <OrderAddress user={user} setUser={setUser} order={order} setOrder={setOrder} />\n                            <OrderPayment order={order} setOrder={setOrder}/>\n                            <OrderDescription order={order} setOrder={setOrder}/>\n                        </>\n                        : <p>Нямате добавени продукти в количката...</p>\n\n                }\n            </article>\n            {\n                user?.cart?.products?.length > 0\n                ? <>\n                        <article className=\"finish-order-summary\">\n                            {\n                                delivery !== undefined\n                                    ? <>\n                                        <p>Доставка: <strong>{delivery.toFixed(2) || 0.5}</strong> лв.</p>\n                                        <p className=\"finish-order-summary-total-process\">\n                                            Крайна сума: <strong>{(Number(order?.cart?.totalPrice) + Number(delivery)).toFixed(2)} лв.</strong>\n                                        </p>\n                                    </>\n                                    :null\n                            }\n                        </article>\n\n                        <button className=\"finish-order-submit-btn\" onClick={onSubmitOrderHandler}>\n                            Потвърди поръчката\n                        </button>\n                    </>\n                    : null\n            }\n\n        </section>\n\n    )\n}\n\nexport default Order;\n\n// {\n//     cart: [\n//         {\n//             name: types.String,\n//             price: types.Number,\n//             options: [\n//                 {\n//                     key: types.String,\n//                     values: [ types.String ]\n//                 }\n//             ],\n//             selected_options: [ types.String ],\n//             quantity: {\n//                 type: types.Number\n//             }\n//         }\n//     ],\n//         address: {\n//     region:types.String,\n//         location:types.String,\n//         delivery:types.Number\n// },\n//     note: types.String,\n//         totalPrice: types.Number\n// }\n","import './Contacts.css';\nimport {BiPhone} from 'react-icons/bi';\nimport {GoLocation,GoMail} from 'react-icons/go'\nfunction Contacts() {\n    return (\n        <section className=\"contacts\">\n            <article className=\"contacts-content\">\n                <article className=\"contacts-phone\">\n                    <BiPhone class=\"contacts-icon\"/>\n                    <h2>+359 878 123 123</h2>\n                </article>\n                <article className=\"contacts-email\">\n                    <GoMail class=\"contacts-icon\"/>\n                    <h2>delivery@fooddelivery.com</h2>\n                </article>\n                <article className=\"contacts-address\">\n                    <GoLocation class=\"contacts-icon\"/>\n                    <h2>гр.Смолян,бул.\"България\" 5</h2>\n                </article>\n            </article>\n        </section>\n    )\n}\nexport default Contacts\n","import environments from \"../environments\";\nimport {fetchWithCredentials} from \"../helpers\";\nconst path ='posts/';\n\nconst postService = {\n    getPosts: () => {\n        return fetchWithCredentials(path,'GET')\n            .then(res => res.json())\n            .catch(console.error)\n    },\n    createPost: (post) => {\n        const fullPath = path + 'create_post';\n        return fetchWithCredentials(fullPath,'POST', post)\n            .then(res => res.json())\n            .catch(console.error)\n    },\n    editPost: (post) => {\n        const fullPath = path + 'edit_post';\n        return fetchWithCredentials(fullPath,'POST',post)\n            .then(res => res.json())\n            .catch(console.error);\n    }\n}\n\nexport default postService\n","import './PostItem.css';\nimport {BiDislike,BiLike} from 'react-icons/bi';\nimport { useState, useEffect} from 'react';\n\nconst PostItem = ({item, likeHandler, user}) => {\n    const [liked, setLiked] = useState(false);\n    const [disliked, setDisliked] = useState(false);\n\n    const likeClickHandler =  (type) => {\n        if(user && item.author._id !== user._id){\n            if(type === 'like') {\n                if(!item.likes.includes(user._id)) {\n                    likeHandler(item,type);\n                }\n            }\n            if(type === 'dislike') {\n                if(!item.dislikes.includes(user._id)) {\n                    likeHandler(item,type);\n                }\n            }\n        }\n\n    };\n\n    useEffect(() => {\n        if(item?.likes?.includes(user?._id)) {\n            setLiked(true);\n        }\n        if(item?.dislikes?.includes(user?._id)) {\n            setDisliked(true);\n        }\n    },[user]);\n\n    useEffect(() => {\n        if(item?.likes?.includes(user?._id)) {\n            setLiked(true);\n            setDisliked(false);\n        }\n        if(item?.dislikes?.includes(user?._id)) {\n            setDisliked(true);\n            setLiked(false);\n        }\n    },[item.likes, item.dislikes]);\n\n    return (\n            <article className=\"post-item\">\n                <article className=\"post-item-content\">\n                    <h4 className=\"post-item-content-title\">\n                        {item.title}\n                    </h4>\n                    <p className=\"post-item-content-description\">\n                        {item.description}\n                    </p>\n                    <article className=\"post-item-details\">\n                        <p>{item.author.username}</p>\n                        <p>{item.created_at.split('T')[0]}</p>\n                    </article>\n                </article>\n                <article className=\"post-item-likes\">\n                    <article className=\"like-wrapper\">\n                        <p className=\"like-counter like\">{item.likes.length}</p>\n                        <BiLike className={liked ? \"like isLiked\" : \"like\"}\n                                onClick={likeClickHandler.bind(null,'like')}\n                        />\n                    </article>\n                    <article className=\"like-wrapper\">\n                        <p className=\"like-counter dislike\">{item.dislikes.length}</p>\n                        <BiDislike className={disliked ?  \"dislike isDisliked\" : \"dislike\"}\n                                   onClick={likeClickHandler.bind(null,'dislike')}\n                        />\n                    </article>\n                </article>\n            </article>\n        )\n};\n\nexport default PostItem;\n","import './Posts.css';\nimport {useEffect, useState} from 'react';\nimport postService from \"../../services/postService\";\nimport PostItem from \"./PostItem/PostItem\";\nimport {BsChatDots} from 'react-icons/bs'\n\nexport const Posts = ({user, setNotification}) => {\n    const [allPosts, setAllPosts] = useState([]);\n\n    useEffect(() => {\n        postService.getPosts()\n            .then(posts => {\n                setAllPosts(posts);\n            }).catch(console.error)\n    }, []);\n\n    const likeHandler = (post, type) => {\n        const likeAction = (up, down) => {\n            up.push(user._id);\n            const index = down.findIndex(d => d === user._id);\n            if (down.includes(user?._id)) {\n                down.splice(index, 1);\n            }\n        };\n\n        if (type === 'like') {\n            likeAction(post.likes, post.dislikes)\n        } else {\n            likeAction(post.dislikes, post.likes)\n        }\n        postService.editPost(post)\n            .then(res => {\n                const index = allPosts.findIndex(p => p.author._id === user._id);\n                const copyPosts = allPosts;\n                copyPosts[index] = post;\n                setAllPosts(res);\n            })\n            .catch(console.error);\n    };\n\n    const addNewPostHandler = (e) => {\n        e.preventDefault();\n        const newPost = {\n            title: e.target.title.value,\n            description: e.target.description.value,\n        };\n        postService.createPost(newPost)\n            .then(res => {\n                const notification = {\n                    message: res.message,\n                    type: 'error'\n                };\n                if (res.message) {\n                    setNotification(notification);\n                } else {\n                    notification.message = 'Вашето мнение беше добавено!';\n                    notification.type = 'success';\n                    setNotification(notification);\n                    setAllPosts(res);\n                    e.target.title.value = '';\n                    e.target.description.value = '';\n                }\n            })\n            .catch(console.error)\n    };\n\n\n    return (\n        <section className=\"posts\">\n            <article className=\"post-list\">\n                {\n                    allPosts.length === 0\n                        ? <p>Няма предишни мнения...</p>\n                        : <>\n                        <BsChatDots className=\"post-list-logo\"/>\n                            {\n                                allPosts?.sort((a, b) => Date.parse(b.created_at) - Date.parse(a.created_at))\n                                    .map(post => (\n                                        <PostItem key={post.description + post.title + post.author.username}\n                                                  item={post}\n                                                  likeHandler={likeHandler}\n                                                  user={user}\n                                        />\n                                    ))\n                            }\n                            {\n                                !user\n                                    ?\n                                    <p className=\"post-list-title-info\">* Само регистрирани потребители оценяват мнения.</p>\n                                    : null\n                            }\n                        </>\n\n                }\n            </article>\n            {\n                user\n                    ? <article className=\"post-create\">\n                        <h4>Сподели мнение</h4>\n                        <form onSubmit={addNewPostHandler} className=\"new-post-form\">\n                            <input type=\"text\" required placeholder='Заглавие' name='title'/>\n                            <textarea\n                                name=\"description\"\n                                required\n                                placeholder=\"Вашето мнение...\"\n                                cols=\"30\"\n                                rows=\"10\">\n                            </textarea>\n                            <button className='post-create-btn'>Публикувай</button>\n                        </form>\n                    </article>\n                    : null\n            }\n\n        </section>\n    )\n};\n\nexport default Posts;\n","import './About.css';\nimport {IoMdRestaurant} from 'react-icons/io';\n\nexport default function () {\n    return(\n        <section className=\"about\">\n            <IoMdRestaurant className=\"about-logo\"/>\n            <article className=\"about-content\">\n                <q className=\"about-content-text\">За нас качеството на храната е основен приоритет. Нашата политика е да предлагаме на клиентите си това, което самите ние слагаме на нашата маса. Вече с натрупан богат опит в готвенето и кулинарията, създадохме нашия онлайн магазин. Ние вярваме, че забързаното ежедневие не трябва да бъде причина за компромис с избора на храна. Всеки работен ден Ви предлагаме разнообразно обедно меню и очакваме Вашия избор!</q>\n                <article className=\"about-footer\">\n                    <p className=\"about-footer-content\">\"Фууд Деливъри\" ЕООД\n                        ЕИК:1234412342\n                        със седалище:\n                        гр.Смолян,бул.\"България\" 5\n                        МОЛ.:Стефан Станчев</p>\n\n                    <img src=\"foodDelivery-icon.png\" alt=\"company logo\"/>\n                </article>\n            </article>\n\n        </section>\n    )\n}\n","import './Conditions.css'\nimport {CgNotes} from 'react-icons/cg';\nexport default function() {\n    return(\n        <section className=\"conditions\">\n            <CgNotes className=\"conditions-icon\"/>\n            <h2 className=\"condition-item-title\">Доставка</h2>\n            <article className=\"conditions-item\">\n                <p>Всеки работен ден Вие можете да поръчате храна за вкъщи или работното място от нашия онлайн магазин.\n                Освен чрез онлайн магазинa,\n                можете да поръчате с телефонно обаждане на номер <strong>0876 123 123</strong> или чрез e-mail:\n                <strong> delivery@fooddelivery.com</strong></p>\n            </article>\n            <h2 className=\"condition-item-title\">Цена на доставка</h2>\n            <article className=\"conditions-item\">\n                <p>Цената на доставката е <strong>0.50лв</strong>. Поръчки за кваралите Каптажа, Райково и Устово, които са на стойност под <strong>10лв</strong>., ще се таксуват с цена на доставка - <strong>1.50лв</strong>.</p>\n            </article>\n            <h2 className=\"condition-item-title\">Работно време</h2>\n            <article className=\"conditions-item\">\n                <p>Доставките на храна се извършват от понеделник до петък до <strong>13:00</strong> часа.\n                    Приемаме поръчки до <strong>12:30ч</strong>аса!\n                    Почивни дни - <strong>събота и неделя</strong>, както и <strong>официалните празници</strong>.</p>\n            </article>\n        </section>\n    )\n}\n","import './Notification.css';\nimport {MdClose, MdDone, MdError} from 'react-icons/md'\n\nconst Notification = ({notification, setNotification}) => {\n\n    const closeNotification = () => {\n        setNotification({})\n    }\n\n    if(notification?.type !== 'error') {\n        setTimeout(() => {\n            setNotification({})\n        },2500)\n    }\n\n    return (\n        <article className={'notification' + ' ' + notification?.type}>\n            {\n                notification?.type === 'error'\n                    ? <>\n                        <MdError className='notification-icon'/>\n                        <article className='notification-content'>\n                            <p>{notification?.message}</p>\n                        </article>\n                        <MdClose\n                            className='notification-close'\n                            onClick={closeNotification}\n                        />\n                    </>\n\n                    : <>\n                        <MdDone className='notification-icon'/>\n                        <article className='notification-content'>\n                            <p>{notification?.message}</p>\n                        </article>\n                    </>\n\n            }\n\n        </article>\n    )\n}\n\nexport default Notification;\n","import './ProfileInfo.css';\nimport {useState, useEffect} from 'react';\nimport userService from \"../../../services/userService\";\n\nconst ProfileInfo = ({user, setUser, setNotification,history}) => {\n\n    useEffect(() => {\n        return () => setNotification({});\n    },[])\n\n    const [editMode, setEditMode] = useState(false);\n\n    const editModeToggle = () => {\n        setEditMode(prev => !prev)\n    };\n\n    const checkForMinLength = (obj, count, e) => {\n        const [key,value] = Object.entries(obj)[0];\n        if (value.length < count) {\n            const notification = {\n                message: `Твърде малко символа за \"${key}\". Трябва да бъдат минимум ${count} символа.`,\n                type: 'error'\n            }\n            e.target[key].value = user[key];\n            setNotification(notification);\n            return Promise.reject('not enough symbols')\n        }\n        return Promise.resolve()\n    };\n\n    const editUserInfoHandler = async (e) => {\n        e.preventDefault();\n        const username = e.target.username.value;\n        const email = e.target.email.value;\n        const phone = e.target.phone.value;\n        const newData = {};\n        let invalidInputData = false;\n        if (username !== user.username) {\n           await checkForMinLength({username}, 3, e)\n                .then(() => {\n                    newData.username = username\n                })\n                .catch(() => invalidInputData = true);\n            if (invalidInputData) return\n        }\n        if (phone !== user.phone) {\n           await checkForMinLength({phone}, 5, e)\n                .then(() => newData.phone = phone)\n                .catch(() => invalidInputData = true);\n            if (invalidInputData) return\n        }\n        if (email !== user.email) {\n           await checkForMinLength({email}, 6, e)\n                .then(() => newData.email = email)\n                .catch(() => invalidInputData = true);\n            if (invalidInputData) return;\n            if (!email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/g)){\n                setNotification({\n                    message: 'Невалиден емайл адрес',\n                    type: 'error'\n                });\n                e.target.email.value = user.email;\n                editModeToggle();\n                return;\n            }\n        }\n        if (Object.keys(newData).length === 0) {\n            return editModeToggle();\n        }\n        userService.editUserData(newData)\n            .then(res => {\n                if (res.message) {\n                    const mongoError = res.message.split('dup key: ');\n                    if(mongoError.length > 0) {\n                        const curMessage = JSON.parse(JSON.stringify(mongoError[1].split(' ')));\n                        const duplicatedProp = (Object.values(curMessage)[1]).split(':')[0].trim();\n                        e.target[duplicatedProp].value = user[duplicatedProp];\n                        setNotification({\n                            message: `Името вече е заето - ${duplicatedProp}`,\n                            type: 'error'\n                        });\n                         editModeToggle();\n                         return;\n                    }\n                    const notification = {\n                        message: res.message,\n                        type: 'error'\n                    };\n                    setNotification(notification);\n                    return editModeToggle();\n                }\n\n                    const notification = {\n                        message: 'Промените са запаметени.',\n                        type: 'success'\n                    };\n                    setNotification(notification);\n                    setUser(res);\n                    editModeToggle();\n\n            })\n            .catch(history.push('/profile'));\n    };\n    return (\n        <article className=\"profile-info\">\n            <form className=\"profile-info-form\" onSubmit={editUserInfoHandler}>\n                <label htmlFor=\"username\">Потребителско име</label>\n                <input type=\"text\"\n                       defaultValue={user?.username}\n                       name=\"username\"\n                       disabled={!editMode}\n                       className={editMode ? 'editing' : ''}\n                />\n                <label htmlFor=\"email\">Е-майл</label>\n                <input type=\"email\"\n                       defaultValue={user?.email}\n                       name=\"email\"\n                       disabled={!editMode}\n                       className={editMode ? 'editing' : ''}\n                />\n                <label htmlFor=\"phone\">Телефон</label>\n                <input type=\"phone\"\n                       defaultValue={user?.phone}\n                       name=\"phone\"\n                       disabled={!editMode}\n                       className={editMode ? 'editing' : ''}\n                />\n                <article className=\"profile-info-form-btn-wrapper\">\n                    <button className={!editMode ? \"profile-form-btn edit\" : \"profile-form-btn back\"}\n                            type=\"button\"\n                            onClick={editModeToggle}\n                    >{editMode ? \"Назад\" : \"Редактирай\"}\n                    </button>\n                    {\n                        editMode\n                            ? <button\n                                type=\"submit\"\n                                className=\"profile-form-btn\"\n                            >Потвърди\n                            </button>\n                            : null\n                    }\n                </article>\n            </form>\n\n        </article>\n    )\n}\n\nexport default ProfileInfo;\n","import './ProfileAddressItem.css';\nimport {useState} from 'react';\nimport {FiCheck, FiEdit2, FiTrash} from 'react-icons/fi'\nimport {IoMdClose} from 'react-icons/io';\nimport environments from \"../../../../environments\";\n\nconst mapBgRegions = environments.mapBgRegions;\n\nconst ProfileAddressItem = ({address, index,onDeleteAddressHandler,onUpdateExistAddressHandler, setNotification}) => {\n    const [editMode, setEditMode] = useState(false);\n    const [location,setLocation] = useState(address.location);\n\n    const onChangeLocationHandler = (e) => {\n        setLocation(prev => e.target.value);\n    };\n\n    const editExistAddressHandler = () => {\n        if(location === address.location) {\n            return toggleEditMode();\n        }\n        if(location.length < 10) {\n            setNotification({\n                message: 'Твърде кратък адрес! Необходими са минимум 10 символа.',\n                type: 'error'\n            });\n            toggleEditMode(false);\n            return\n        }\n        const newAddress = {\n            region: address.region,\n            location: location,\n            delivery: address.delivery\n        };\n        onUpdateExistAddressHandler(address,newAddress,index);\n    };\n\n    const toggleEditMode = (changes) => {\n        if (!changes) {\n            setLocation(address.location);\n        }\n        setEditMode(prev => !prev);\n    };\n\n    const deleteCurrentAddress = () => {\n        return onDeleteAddressHandler(address, Number(index));\n    };\n\n    return (\n        <article className=\"profile-address-item\">\n            <article className=\"profile-address-item-wrapper region\">\n                <label htmlFor=\"add-address-region\">Регион</label>\n                <input type=\"text\"\n                       id=\"add-address-region\"\n                       name=\"region\"\n                       defaultValue={mapBgRegions[address.region]}\n                       disabled={true}\n                />\n            </article>\n\n            <article className=\"profile-address-item-wrapper location\">\n                <label htmlFor=\"add-address-location\">Точен адрес</label>\n                <input type=\"text\"\n                       id=\"add-address-location\"\n                       name=\"location\"\n                       value={location}\n                       disabled={!editMode}\n                       onChange={onChangeLocationHandler}\n                       className={editMode ? 'editing-location' : ''}\n                />\n            </article>\n            <article className=\"profile-address-item-wrapper buttons\">\n                {\n\n                    editMode\n                        ? <>\n                            <FiCheck className=\"confirm\" onClick={editExistAddressHandler}/>\n                            <IoMdClose onClick={toggleEditMode.bind(null,false)}/>\n                        </>\n\n                        : <>\n                            <FiEdit2 onClick={toggleEditMode}/>\n                            <FiTrash onClick={deleteCurrentAddress}/>\n                        </>\n\n\n                }\n            </article>\n        </article>\n    )\n}\n\nexport default ProfileAddressItem;\n","import './ProfileAddress.css';\nimport {useState} from 'react';\nimport ProfileAddressItem from \"./ProfileAddressItem/ProfileAddressItem\";\nimport AddNewAddressForm from '../AddNewAddressForm/AddNewAddressForm';\n\n\nconst ProfileAddress = ({user, setUser, setNotification, onDeleteAddressHandler, onUpdateExistAddressHandler}) => {\n    const [addAddressMode, setAddAddressMode] = useState(false);\n\n    const toggleNewAddressForm = () => {\n        setAddAddressMode(prev => !prev);\n    };\n\n    return (\n        <section className=\"profile-address\">\n            {\n                user?.address.map((adr, index) => (\n                    <ProfileAddressItem\n                        key={adr?.location + adr?.region}\n                        address={adr}\n                        index={index}\n                        onDeleteAddressHandler={onDeleteAddressHandler}\n                        onUpdateExistAddressHandler={onUpdateExistAddressHandler}\n                        setNotification={setNotification}\n                    />\n                ))\n            }\n\n            {\n                user?.address.length === 0\n                    ? <p>Нямате добавени адреси...</p>\n                    : null\n            }\n\n            {\n                addAddressMode\n                    ? <AddNewAddressForm user={user} setUser={setUser} toggleNewAddressForm={toggleNewAddressForm}/>\n                    : <button className=\"add-new-address-btn\"\n                              onClick={toggleNewAddressForm}\n                    >\n                        Добави нов адрес\n                    </button>\n            }\n\n\n        </section>\n    )\n}\n\nexport default ProfileAddress;\n","import './ShowOrderCart.css';\nimport {FiShoppingCart} from 'react-icons/fi';\nimport {IoMdClose, IoMdSearch} from 'react-icons/io'\n\nfunction ShowOrderCart({order,closeHandler}) {\n\n    const getCartProductsPrice = (products) => {\n        let totalPrice = 0;\n        products.forEach(product => {\n            totalPrice += product.price * product.quantity\n        });\n        return totalPrice.toFixed(2) + ' лв.'\n    }\n    return (\n        <article className=\"show-order-cart\">\n                <article className=\"show-order-cart-icons\">\n                    <FiShoppingCart className=\"profile-order-cart-icon\"/>\n                    <IoMdClose className=\"close-order-cart\"\n                               onClick={closeHandler}\n                    />\n                </article>\n            <table className=\"order-cart-table\">\n                <thead>\n                <tr>\n                    <th>Продукт</th>\n                    <th>Количество</th>\n                    <th>Единична цена</th>\n                </tr>\n                </thead>\n                <tbody>\n                {\n                    order?.cart?.map((item,i) => (\n                        <tr key={i}>\n                            <td>{item.name}</td>\n                            <td>{item.quantity}</td>\n                            <td>{Number(item.price).toFixed(2)} лв.</td>\n                        </tr>\n                    ))\n\n                }\n                <tr className=\"tr-summary\">\n                    <th>Цена продукти</th>\n                    <th>Доставка</th>\n                    <th>Крайна цена</th>\n                </tr>\n                <tr className=\"tr-summary-content\">\n                    <td className=\"tr-summary-content-item\">{getCartProductsPrice(order.cart)}</td>\n                    <td className=\"tr-summary-content-item\">{Number(order.delivery).toFixed(2)} лв.</td>\n                    <td className=\"tr-summary-content-item\">{Number(order.totalPrice).toFixed(2)} лв.</td>\n                </tr>\n                </tbody>\n            </table>\n            {\n                order.description\n                    ? <article className=\"show-order-cart-description\">\n                        <p className=\"description-title\">Бележка към поръчката:</p>\n                        <q>{order.description}</q>\n                    </article>\n                    : null\n            }\n\n        </article>\n    )\n}\n\nexport default ShowOrderCart;\n","import './ProfileOrders.css';\nimport {IoMdSearch} from 'react-icons/io';\nimport {useState} from 'react'\nimport ShowOrderCart from './ShowOrderCart/ShowOrderCart';\n\nfunction ProfileOrders({user}){\n\n    const[showCart,setShowCart] = useState(false);\n    const[currentOrder,setCurrentOrder] = useState(undefined);\n\n    const toggleShowCart = (order) => {\n        if(!order) {\n             setShowCart(prev => !prev);\n             setCurrentOrder(prev => undefined);\n             return;\n        }\n        setShowCart(prev => !prev);\n        setCurrentOrder(prev => order);\n    };\n\n\n    return (\n        <article className=\"profile-orders\">\n            {\n                user?.orders.length === 0\n                    ? <p>Все още нямате направени поръчки...</p>\n                    :  <table className=\"order-table\">\n                        <thead>\n                        <tr>\n                            <th>Дата</th>\n                            <th>Адрес</th>\n                            <th>Плащане</th>\n                            <th>Крайна цена</th>\n                            <th>Продукти</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {\n                            user?.orders.sort((a,b) => Date.parse(b.date) - Date.parse(a.date)).map(order => (\n                                <tr key={order._id}>\n                                    <td>{order.date}</td>\n                                    <td>{order.address.location}</td>\n                                    <td>{order.payment}</td>\n                                    <td>{Number(order.totalPrice).toFixed(2)} лв.</td>\n                                    <td><IoMdSearch\n                                        className=\"magnifier\"\n                                        onClick={toggleShowCart.bind(null,order)}\n                                        disabled={showCart}\n                                    />\n                                    </td>\n                                </tr>\n                            ))\n\n                        }\n                        </tbody>\n                    </table>\n            }\n            {\n                showCart\n                    ? <ShowOrderCart order={currentOrder} closeHandler={toggleShowCart}/>\n                    : null\n            }\n        </article>\n    )\n}\nexport default ProfileOrders;\n","import './Profile.css';\nimport {NavLink, Route, Switch} from 'react-router-dom'\nimport {FaUser} from 'react-icons/fa';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport ProfileAddress from \"./ProfileAddress/ProfileAddress\";\nimport userService from \"../../services/userService\";\nimport ProfileOrders from \"./ProfileOrders/ProfileOrders\";\n\n\nconst Profile = ({user, setUser, match, setNotification}) => {\n    const onDeleteAddressHandler = (adr, idx) => {\n        user.address.splice(idx, 1);\n        userService.editUserData({deleteAddress: adr});\n        setUser(user);\n    };\n\n    const onUpdateExistAddressHandler = (oldAddress, newAddres, idx) => {\n        user.address.splice(idx, 1, newAddres);\n        userService.editUserData({deleteAddress: oldAddress});\n        userService.editUserData({addAddress: newAddres});\n        setUser(user);\n    }\n    return (\n\n        <section className=\"profile\">\n            {\n                user\n                    ? <>\n                        <section className=\"profile-header\">\n                            <nav className=\"profile-header-nav\">\n                                <NavLink\n                                    to={match.url}\n                                    exact\n                                    activeClassName=\"is-active\">\n                                    Моите данни\n                                </NavLink>\n                                <NavLink\n                                    to={match.url + '/address'}\n                                    exact\n                                    activeClassName=\"is-active\">\n                                    Моите адреси\n                                </NavLink>\n                                <NavLink\n                                    to={match.url + '/orders'}\n                                    exact\n                                    activeClassName=\"is-active\">\n                                    Моите поръчки\n                                </NavLink>\n                            </nav>\n                        </section>\n\n                        <section className=\"profile-content\">\n                            <article className=\"profile-icon-wrapper\">\n                                <FaUser className=\"profile-icon\"/>\n                            </article>\n                            <Switch>\n                                <Route path=\"/profile\" exact render={(props) => (\n                                    <ProfileInfo {...props}\n                                                 user={user}\n                                                 setUser={setUser}\n                                                 setNotification={setNotification}\n                                    />\n                                )}/>\n                                <Route path=\"/profile/address\" exact render={(props) => (\n                                    <ProfileAddress {...props}\n                                                    user={user}\n                                                    setUser={setUser}\n                                                    setNotification={setNotification}\n                                                    onDeleteAddressHandler={onDeleteAddressHandler}\n                                                    onUpdateExistAddressHandler={onUpdateExistAddressHandler}\n                                    />\n                                )}/>\n                                <Route path=\"/profile/orders\" exact render={(props) => (\n                                    <ProfileOrders {...props} user={user}/>\n                                )}/>\n                            </Switch>\n                        </section>\n                    </>\n                    : null\n            }\n\n        </section>\n\n\n    )\n}\n;\n\nexport default Profile;\n","import \"./App.css\";\nimport foodService from \"./services/foodService\";\nimport userService from \"./services/userService\";\n\n\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport Menu from \"./components/Menu/Menu\";\nimport Register from \"./components/Register/Register\"\nimport Login from \"./components/Login/Login\";\nimport Logout from \"./components/Logout/Logout\";\nimport Order from \"./components/Order/Order\";\nimport Contacts from \"./components/Contacts/Contacts\";\nimport Posts from \"./components/Posts/Posts\";\nimport About from \"./components/About/About\";\nimport Conditions from \"./components/Conditions/Conditions\";\n\n\nimport {Route, Switch} from \"react-router-dom\";\nimport {Component} from \"react\";\nimport Cart from \"./components/Cart/Cart\";\nimport Notification from \"./components/Notification/Notification\";\nimport Profile from \"./components/Profile/Profile\";\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            menu: [],\n            currentUser: undefined,\n            notification: {\n                message: '',\n                type: ''\n            }\n        }\n        this.setUser = this.setUser.bind(this)\n        this.getUserInfo = this.getUserInfo.bind(this);\n        this.setNotification = this.setNotification.bind(this);\n    }\n\n    componentDidMount() {\n        foodService.getDailyMenu()\n            .then(dishes => {\n                this.setState(state => ({...state, menu: dishes}))\n            }).catch(err => console.error(err));\n        userService.getUserInfo()\n            .then(user => {\n                if (user) {\n                    this.setState((state) => ({currentUser: user.message ? undefined : user}))\n                }\n            }).catch(err => console.error(err));\n    }\n\n    setUser(user) {\n        return this.setState((state) => (\n            {\n                ...state,\n                currentUser: user\n            }\n        ))\n    }\n\n    setNotification(notification) {\n        return this.setState((state) => (\n            {\n                ...state,\n                notification\n            }\n        ))\n    }\n\n    getUserInfo() {\n        userService.getUserInfo()\n            .then(user => {\n                console.log(user);\n                this.setState((state) => ({...state, currentUser: user}))\n            }).catch(err => console.error(err));\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Header user={this.state.currentUser}/>\n                {\n                    this.state.notification.message\n                        ? <Notification\n                            notification={this.state.notification}\n                            setNotification={this.setNotification}\n                        />\n                        : null\n                }\n                <main className=\"app-main\">\n                    <Switch>\n\n                        <Route path=\"/\" exact render={(props) => (\n                            <Menu {...props}\n                                  menu={this.state.menu}\n                                  user={this.state.currentUser}\n                                  setUser={this.setUser}\n                                  setNotification={this.setNotification}\n                            />\n                        )}/>\n\n                        <Route path=\"/register\" exact render={(props) => (\n                            <Register {...props}\n                                      setNotification={this.setNotification}\n                            />\n                        )}/>\n\n                        <Route path=\"/login\" exact render={(props) => (\n                            <Login {...props}\n                                   setUser={this.setUser}\n                                   setNotification={this.setNotification}\n                            />\n                        )}/>\n\n                        <Route path=\"/profile\" render={(props) => (\n                            <Profile {...props}\n                                     user={this.state.currentUser}\n                                     setUser={this.setUser}\n                                     setNotification={this.setNotification}\n                            />\n                        )}/>\n\n\n                        <Route path=\"/logout\" exact render={(props) => (\n                            <Logout {...props} setUser={this.setUser}/>\n                        )}/>\n\n                        <Route path=\"/cart\" exact render={(props) => (\n                            <Cart {...props}\n                                  setUser={this.setUser}\n                                  user={this.state.currentUser}\n                                  setNotification={this.setNotification}\n                            />\n                        )}/>\n\n                        <Route path=\"/order\" exact render={(props) => (\n                            <Order {...props}\n                                   setUser={this.setUser}\n                                   user={this.state.currentUser}\n                                   setNotification={this.setNotification}\n                            />\n                        )}/>\n\n                        <Route path=\"/posts\" exact render={(props) => (\n                            <Posts {...props}\n                                   setUser={this.setUser}\n                                   user={this.state.currentUser}\n                                   setNotification={this.setNotification}\n                            />\n                        )}/>\n                        <Route path=\"/contacts\" exact component={Contacts}/>\n                        <Route path=\"/about\" exact component={About}/>\n                        <Route path=\"/conditions\" exact component={Conditions}/>\n                    </Switch>\n                </main>\n                <Footer/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}